"use strict";var log=null,$manifest$cssAutoClassificator=!1,$manifest$cssDisableTransformations=!1,$manifest$cssDisableTransitions=!1,$manifest$disableAnimations=!1,$manifest$expectRunContextEvent=!1,$manifest$html5$prefix="",$manifest$iconColor="#333333",$manifest$log$disable=!1,$manifest$style$font$family="Space Mono",$manifest$style$font$lineHeight=1.2,$manifest$style$font$pixelSize=16,$manifest$style$font$pointSize=0,$manifest$title="earth-online",$manifest$trace$focus=!1,$manifest$trace$keys=!1,$manifest$trace$listeners=!1,qml=function(){var t={},x=t;x.core||(x.core={}),x.web||(x.web={}),x.controls||(x.controls={}),x.controls.core||(x.controls.core={}),x.controls.google||(x.controls.google={}),x.controls.pure||(x.controls.pure={}),x.controls.web||(x.controls.web={}),x.video||(x.video={}),x.video.html5||(x.video.html5={}),x.html5||(x.html5={}),x.src||(x.src={}),x.core.core=function(){var i=x;i.core.device=0,i.core.vendor="",i.core.__videoBackends={},"undefined"!=typeof navigator?(i.core.os=navigator.platform,i.core.userAgent=navigator.userAgent,i.core.language=navigator.language):(i.core.os="unknown",i.core.userAgent="Unknown");var t=function(t,e){i.core.userAgent.indexOf(t)<0||(i.core.vendor=e.vendor,i.core.device=e.device,i.core.os=e.os)};i.core.vendor||(t("Blackberry",{vendor:"blackberry",device:2,os:"blackberry"}),t("Android",{vendor:"google",device:2,os:"android"}),t("iPhone",{vendor:"apple",device:2,os:"iOS"}),t("iPad",{vendor:"apple",device:2,os:"iOS"}),t("iPod",{vendor:"apple",device:2,os:"iOS"})),0<=i.core.userAgent.indexOf("Chromium")?i.core.browser="Chromium":0<=i.core.userAgent.indexOf("Chrome")?i.core.browser="Chrome":0<=i.core.userAgent.indexOf("Opera")?i.core.browser="Opera":0<=i.core.userAgent.indexOf("Firefox")?i.core.browser="Firefox":0<=i.core.userAgent.indexOf("Safari")?i.core.browser="Safari":0<=i.core.userAgent.indexOf("MSIE")?i.core.browser="IE":0<=i.core.userAgent.indexOf("YaBrowser")?i.core.browser="Yandex":i.core.browser="",x._backend=function(){return x.html5.html},x.core.__locationBackend=function(){return x.html5.location},x.core.__localStorageBackend=function(){return x.html5.localstorage},x.core.__videoBackends.html5=function(){return x.video.html5.backend},x.core.__deviceBackend=function(){return x.web.device},i.core.keyCodes={13:"Select",16:"Shift",17:"Ctrl",18:"LeftAlt",27:"Back",37:"Left",32:"Space",33:"PageUp",34:"PageDown",38:"Up",39:"Right",40:"Down",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",112:"Red",113:"Green",114:"Yellow",115:"Blue",219:"Red",221:"Green",186:"Yellow",222:"Blue",230:"RightAlt",187:"VolumeUp",189:"VolumeDown",191:"Mute",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",107:"VolumeUp",109:"VolumeDown",111:"Mute"},i.closeApp=function(){window.close()},Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),i=this,r=function(){},o=function(){return i.apply(this instanceof r&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return r.prototype=this.prototype,o.prototype=new r,o},null===log&&(log=function(){for(var t="",e=0;e<arguments.length;++e)t+=arguments[e]+" ";console.log(t)})),null===log&&(log=console.log.bind(console)),x.qsTr=function(t,e){return x._context.qsTr.apply(qml._context,arguments)};var c={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",grey:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"778899",lightslategrey:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32","":"",transparent:"0000"};i.core.safeCall=function(e,i,r){return function(t){return function(t,e,i,r){try{return t.apply(e,i)}catch(t){r(t)}}(t,e,i,r)}},i.core.getKeyCodeByName=function(t){var e=x.core.keyCodes;for(var i in e)if(e[i]===t)return~~i};var e=i.core.CoreObject=function(t){this._local=Object.create(t?t._local:null)},r=e.prototype;r.componentName="core.CoreObject",r.constructor=e,r.$c=function(){},r.$s=function(){},r.__init=function(){var t={};this.$c(t),this.$s(t),this.completed()},r.__complete=function(){},r._get=function(t,e){if(t in this)return this[t];if(t in this._local)return this._local[t];if(e)return null;throw new Error("invalid property requested: '"+t+"'")};var l=i.core.Color=function(t){if(Array.isArray(t))return this.r=t[0],this.g=t[1],this.b=t[2],void(this.a=void 0!==t[3]?t[3]:255);if("string"!=typeof t)return this.r=this.b=this.a=255,this.g=0,void log("invalid color specification: "+t,(new Error).stack);var e;if("#"===t[0])e=t.substring(1);else{if("rgba"===t.substring(0,4)){var i=t.indexOf("("),r=t.lastIndexOf(")");return t=t.substring(i+1,r).split(","),this.r=parseInt(t[0],10),this.g=parseInt(t[1],10),this.b=parseInt(t[2],10),void(this.a=Math.floor(255*parseFloat(t[3])))}e=c[t]}if(!e)return this.r=this.b=this.a=255,this.g=0,void log("invalid color specification: "+t,(new Error).stack);var o=e.length;if(3===o||4===o){var n=parseInt(e[0],16),a=parseInt(e[1],16),s=(i=parseInt(e[2],16),4===o?parseInt(e[3],16):15);this.r=n<<4|n,this.g=a<<4|a,this.b=i<<4|i,this.a=s<<4|s}else{if(6!==o&&8!==o)throw new Error("invalid color specification: "+t);this.r=parseInt(e.substring(0,2),16),this.g=parseInt(e.substring(2,4),16),this.b=parseInt(e.substring(4,6),16),this.a=8===o?parseInt(e.substring(6,8),16):255}};l.interpolate=function(t,e,i){t instanceof l||(t=new l(t)),e instanceof l||(e=new l(e));var r=function(t,e,i){return Math.floor(i*(t-e)+e)},o=r(t.r,e.r,i),n=r(t.g,e.g,i),a=r(t.b,e.b,i),s=r(t.a,e.a,i);return new l([o,n,a,s])},l.normalize=function(t){return t instanceof l?t.rgba():new l(t).rgba()};var o=l.prototype;o.constructor=i.core.Color,o.rgba=function(){return"rgba("+this.r+","+this.g+","+this.b+","+this.a/255+")"};var n=function(t){var e=t>>4&15,i=15&t;return e+=9<e?87:48,i+=9<i?87:48,String.fromCharCode(e,i)};o.hex=function(){return"#"+n(this.r)+n(this.g)+n(this.b)+n(this.a)},o.ahex=function(){return"#"+n(this.a)+n(this.r)+n(this.g)+n(this.b)},i.addLazyProperty=function(e,i,r){var o=function(t){var e=t.__properties[i];return void 0!==e?(void 0===e.value&&(e.value=r(t)),e):t.__properties[i]=new a(r(t))};Object.defineProperty(e,i,{get:function(){return o(this).value},set:function(t){if(!o(this).forwardSet(this,i,t,null))throw new Error("could not set lazy property "+i+" in "+e.componentName)},enumerable:!0})},i.addConstProperty=function(t,e,i){Object.defineProperty(t,e,{get:function(){return i.call(this)},set:function(t){throw new Error("could not set const property")},enumerable:!0})};var a=function(t){this.value=t,this.onChanged=[]},s=(i.PropertyStorage=a).prototype;s.getAnimation=function(t,e){var i=this.animation;return i&&i.enabled()&&!i._native&&i._context._completed?i:null},s.removeUpdater=function(){var t=this.callback;if(void 0!==t){for(var e=this.deps,i=0,r=e.length;i<r;i+=2){var o=e[i],n=e[i+1];o.removeOnChanged(n,t)}this.deps=this.callback=void 0}},s.replaceUpdater=function(t,e,i){this.removeUpdater(),this.callback=e;for(var r=0,o=(this.deps=i).length;r<o;r+=2){var n=i[r],a=i[r+1];t.connectOnChanged(n,a,e)}e()},s.forwardSet=function(r,o,t,e){var i=this.forwardTarget;if(void 0===i)return!1;var n=this.getCurrentValue(e);if(null!==n&&n instanceof Object){var a=n[i];return t!==a&&(n[i]=t,this.callOnChanged(r,o,t,a)),!0}return t instanceof Object?(r.connectOnChanged(t,i,function(t,e){var i=r.__properties[o];void 0!==i&&i.callOnChanged(r,o,t,e)}),!1):void 0},s.discard=function(){},s.getSimpleValue=function(t){var e=this.value;return void 0!==e?e:t},s.getCurrentValue=function(t){var e=this.interpolatedValue;return void 0!==e?e:this.getSimpleValue(t)},s.setCurrentValue=function(t,e,i,r,o){var n=this.value;this.interpolatedValue=void 0,this.value=i,o&&this.callOnChanged(t,e,i,n)},s.set=function(t,e,i,r,o){var n=this.value;void 0===n&&(n=r),n!==i&&(this.forwardSet(t,e,i,r)||(this.value=i,o&&this.callOnChanged(t,e,i,n)))},s.callOnChanged=function(t,e,i){var r=t["__changed__"+e],o=this.onChanged,n=void 0!==r,a=void 0!==o;if(n||a){var s=x.core.safeCall(t,[i],function(t){log("on "+e+" changed callback failed: ",t,t.stack)});n&&r.forEach(s),a&&o.forEach(s)}},s.removeOnChanged=function(t){var e=this.onChanged,i=e.indexOf(t);if(0<=i)return e.splice(i,1)},i.addProperty=function(t,e,h,p){var u,i=!1;switch(e){case"enum":case"int":u=function(t){return~~t},i=!0;break;case"bool":u=function(t){return!!t};break;case"real":u=function(t){return+t},i=!0;break;case"string":u=function(t){return String(t)};break;case"Color":i=!0;default:u=function(t){return t}}if(void 0!==p)p=u(p);else switch(e){case"enum":case"int":p=0;break;case"bool":p=!1;break;case"real":p=0;break;case"string":p="";break;case"array":p=[];break;case"Color":p="#0000";break;default:p=e[0].toUpperCase()===e[0]?null:void 0}var f=function(t){var e=this.__properties[h];if(void 0===e){if(t===p)return;e=this.__properties[h]=new a(p)}return e};Object.defineProperty(t,h,{get:i?function(){var t=this.__properties[h];return void 0!==t?t.getCurrentValue(p):p}:function(){var t=this.__properties[h];return void 0!==t?t.getSimpleValue(p):p},set:i?function(t){t=u(t);var e=f.call(this,t);if(void 0!==e){var i=e.getAnimation();if(i&&e.value!==t){var r=this._context,o=r.backend;e.frameRequest&&o.cancelAnimationFrame(e.frameRequest),e.started=Date.now();var n=e.getCurrentValue(p),a=t,s=this,c=function(){o.cancelAnimationFrame(e.frameRequest),e.frameRequest=void 0,i.complete=function(){},i.running=!1,e.interpolatedValue=void 0,e.started=void 0,e.callOnChanged(s,h,a,n)},l=i.duration,d=r.wrapNativeCallback(function(){var t=1*(Date.now()-e.started)/l;1<=t||!i.active()?c():(e.interpolatedValue=u(i.interpolate(a,n,t)),e.callOnChanged(s,h,e.getCurrentValue(p),n),e.frameRequest=o.requestAnimationFrame(d))});e.frameRequest=o.requestAnimationFrame(d),i.running=!0,i.complete=c}e.set(this,h,t,p,!i)}}:function(t){t=u(t);var e=f.call(this,t);void 0!==e&&e.set(this,h,t,p,!0)},enumerable:!0})},i.addAliasProperty=function(i,r,t,e){var o=t();i.connectOnChanged(o,e,function(t){var e=i.__properties[r];void 0!==e&&e.callOnChanged(i,r,t)}),Object.defineProperty(i,r,{get:function(){return o[e]},set:function(t){o[e]=t},enumerable:!0})},i.core.createSignal=function(t){return function(){this.emitWithArgs(t,arguments)}},i.core.createSignalForwarder=function(t,e){return function(){t.emitWithArgs(e,arguments)}},i.core.EventBinder=function(t){this.target=t,this.callbacks={},this.enabled=!1},i.core.EventBinder.prototype.on=function(t,e){if(t in this.callbacks)throw new Error("double adding of event ("+t+")");this.callbacks[t]=e,this.enabled&&this.target.on(t,e)},i.core.EventBinder.prototype.constructor=i.core.EventBinder,i.core.EventBinder.prototype.enable=function(t){if(t!=this.enabled){var e=this.target;if(this.enabled=t)for(var i in this.callbacks)e.on(i,this.callbacks[i]);else for(var i in this.callbacks)e.removeListener(i,this.callbacks[i])}};var d=function(t,e,i,r){var o=t+"__"+i,n=e[o];if(void 0!==n)if(e.hasOwnProperty(o))n.push(r);else{var a=n.slice();a.push(r),e[o]=a}else e[o]=[r]};i.core._protoOn=function(t,e,i){d("__on",t,e,i)},i.core._protoOnChanged=function(t,e,i){d("__changed",t,e,i)},i.core._protoOnKey=function(t,e,i){d("__key",t,e,i)};var h=function(t){this._callback=t,this._queue=[],this.history=[]},p=h.prototype;return p.constructor=h,p.unshift=function(){var t=this._queue;t.unshift.apply(t,arguments)},p.push=function(){var t=this._queue;t.push.apply(t,arguments)},p.enumerate=function(t,e){var i=[this,e],r=this._queue;for(r.unshift(t);r.length;){var o=r.shift();if(this.history.push(o),this._callback.apply(o,i))break}},i.forEach=function(t,e,i){return new h(e).enumerate(t,i),i},i}();var o=x.core.core,i=x.core.CoreObject,e=i.prototype,r=x.core.EventEmitter=function(t,e){i.apply(this,arguments),this._eventHandlers={},this._onConnections=[]},n=r.prototype=Object.create(e);n.constructor=r,n.componentName="core.EventEmitter",n.discard=function(){for(var t in this._eventHandlers)this.removeAllListeners(t);for(var e=this._onConnections,i=0,r=e.length;i<r;i+=3)e[i].removeListener(e[i+1],e[i+2]);this._onConnections=[]},n.removeAllListeners=function(t){delete this._eventHandlers[t]},n.emit=function(e){if(""===e)throw new Error("empty listener name");var t=this["__on__"+e],i=this._eventHandlers[e];if(void 0!==t||void 0!==i){for(var r=arguments.length,o=new Array(r-1),n=0,a=1;a<r;)o[n++]=arguments[a++];var s=x.core.safeCall(this,o,function(t){log("event/signal "+e+" handler failed:",t,t.stack)});void 0!==t&&t.forEach(s),void 0!==i&&i.forEach(s)}},n.emitWithArgs=function(e,t){if(""===e)throw new Error("empty listener name");var i=this["__on__"+e],r=this._eventHandlers[e];if(void 0!==i||void 0!==r){var o=x.core.safeCall(this,t,function(t){log("event/signal "+e+" handler failed:",t,t.stack)});void 0!==i&&i.forEach(o),void 0!==r&&r.forEach(o)}},n.removeListener=function(t,e){if(t in this._eventHandlers&&null!=e&&""!==t){var i=this._eventHandlers[t],r=i.indexOf(e);0<=r?i.splice(r,1):$manifest$trace$listeners&&log("failed to remove listener for",t,"from",this),i.length||this.removeAllListeners(t)}else $manifest$trace$listeners&&log("invalid removeListener("+t+", "+e+") invocation",(new Error).stack)},n.on=function(t,e){if(""===t)throw new Error("empty listener name");var i=this._eventHandlers,r=i[t];void 0!==r?r.push(e):i[t]=[e]},n.connectOn=function(t,e,i){t.on(e,i),this._onConnections.push(t,e,i)},n.$c=function(t){e.$c.call(this,t.$b={})},n.$s=function(t){e.$s.call(this,t.$b),delete t.$b,this.completed()};var a=x.core.EventEmitter,s=a.prototype,c=x.core.Object=function(t,e){a.apply(this,arguments),this.parent=t,this.children=[],this.__properties={},this.__attachedObjects=[],t&&t.__attachedObjects.push(this);this._context=t?t._context:null;if(e){var i=this._local;i.model=e,i._delegate=this}this._changedConnections=[],this._properties={}},l=c.prototype=Object.create(s);l._propertyToStyle={width:"width",height:"height",x:"left",y:"top",viewX:"left",viewY:"top",opacity:"opacity",border:"border",radius:"border-radius",rotate:"transform",boxshadow:"box-shadow",transform:"transform",visible:"visibility",visibleInView:"visibility",background:"background",color:"color",backgroundImage:"background-image",font:"font"},l.constructor=c,l.componentName="core.Object",l.completed=function(){this.__complete!==x.core.CoreObject.prototype.__complete&&this._registerDelayedAction("complete")&&this._context.__onCompleted(this)},l.discard=function(){for(var t=this._changedConnections,e=0,i=t.length;e<i;e+=3)t[e].removeOnChanged(t[e+1],t[e+2]);this._changedConnections=[];var r=this.__attachedObjects;this.__attachedObjects=[],r.forEach(function(t){t.discard()});var o=this.parent;if(o){var n=o.__attachedObjects.indexOf(this);0<=n&&o.__attachedObjects.splice(n,1)}this.children=[],this.parent=null,this._local={};var a=this.__properties;for(var s in a)a[s].discard();this._properties={},x.core.EventEmitter.prototype.discard.apply(this)},l.getComponentPath=function(){for(var t=[],e=this;e;)t.unshift(e.componentName),e=e.parent;return t.join(" → ")},l._tryFocus=function(){return!1},l.addChild=function(t){this.children.push(t)},l._cancelDelayedAction=function(t){this._registeredDelayedActions[t]=!1},l._setId=function(t){for(var e=this;e;)e._local[t]=this,e=e.parent},l._registerDelayedAction=function(t){var e=this._registeredDelayedActions;return void 0===e&&(e=this._registeredDelayedActions={}),!0!==e[t]&&(e[t]=!0)},l._removeUpdater=function(t){var e=this.__properties[t];void 0!==e&&e.removeUpdater()},l.updateAnimation=function(t,e){this._context.backend.setAnimation(this,t,e)},l.setAnimation=function(t,e){this._get("context",!0);if(!$manifest$disableAnimations){var i=this._context.backend;"contentX"!==t&&"contentY"!==t||log("WARNING: you're trying to animate contentX/contentY property, this will always use animation frames, ignoring CSS transitions, please use content.x/content.y instead"),e._target=this,e._property=t,this._createPropertyStorage(t).animation=e,i.setAnimation(this,t,e)&&(e._native=!0)}},l.removeOnChanged=function(t,e){var i,r=this.__properties[t];void 0!==r&&(i=r.removeOnChanged(e)),$manifest$trace$listeners&&!i&&log("failed to remove changed listener for",t,"from",this)},l.onChanged=function(t,e){this._createPropertyStorage(t).onChanged.push(e)},l._replaceUpdater=function(t,e,i){this._createPropertyStorage(t).replaceUpdater(this,e,i)},l.setPropertyForwardingTarget=function(t,e){this._createPropertyStorage(t).forwardTarget=e},l._setProperty=function(t,e){var i=this._createPropertyStorage(t,e),r=i.animation;void 0!==r&&r.disable(),i.setCurrentValue(this,null,e),void 0!==r&&r.enable()},l._createPropertyStorage=function(t,e){var i=this.__properties[t];return void 0!==i?i:this.__properties[t]=new x.core.core.PropertyStorage(e)},l.connectOnChanged=function(t,e,i){t.onChanged(e,i),this._changedConnections.push(t,e,i)},l.$c=function(t){s.$c.call(this,t.$b={})},l.$s=function(t){s.$s.call(this,t.$b),delete t.$b,this.completed()};var d=x.core.Object,h=d.prototype,p=x.core.System=function(t,e){d.apply(this,arguments),this.vendor=x.core.vendor,this.device=x.core.device,this.os=x.core.os,this.browser=x.core.browser,this.userAgent=x.core.userAgent,this.language=x.core.language;var i=this._context;i.language=this.language.replace("-","_"),this.webkit=0<=this.userAgent.toLowerCase().indexOf("webkit"),this.support3dTransforms=i.backend.capabilities.csstransforms3d||!1,this.supportTransforms=i.backend.capabilities.csstransforms||!1,this.supportTransitions=i.backend.capabilities.csstransitions||!1},u=p.prototype=Object.create(h);u.constructor=p,u.componentName="core.System",o.addProperty(u,"string","userAgent"),o.addProperty(u,"string","language"),o.addProperty(u,"string","browser"),o.addProperty(u,"string","vendor"),o.addProperty(u,"string","os"),o.addProperty(u,"bool","webkit"),o.addProperty(u,"bool","support3dTransforms"),o.addProperty(u,"bool","supportTransforms"),o.addProperty(u,"bool","supportTransitions"),o.addProperty(u,"bool","portrait"),o.addProperty(u,"bool","landscape"),o.addProperty(u,"bool","pageActive",!0),o.addProperty(u,"int","screenWidth"),o.addProperty(u,"int","screenHeight"),o.addProperty(u,"int","contextWidth"),o.addProperty(u,"int","contextHeight"),u.Desktop=0,p.Desktop=0,u.Tv=1,p.Tv=1,u.Mobile=2,p.Mobile=2,o.addProperty(u,"enum","device"),u.MobileS=0,p.MobileS=0,u.MobileM=1,p.MobileM=1,u.MobileL=2,p.MobileL=2,u.Tablet=3,p.Tablet=3,u.Laptop=4,p.Laptop=4,u.LaptopL=5,p.LaptopL=5,u.Laptop4K=6,p.Laptop4K=6,o.addProperty(u,"enum","layoutType"),u._updateLayoutType=function(){if(this.contextWidth&&this.contextHeight){var t=this.contextWidth;t<=320?this.layoutType=this.MobileS:t<=375?this.layoutType=this.MobileM:t<=425?this.layoutType=this.MobileL:t<=768?this.layoutType=this.Tablet:this.contextWidth<=1024?this.layoutType=this.Laptop:this.contextWidth<=1440?this.layoutType=this.LaptopL:this.layoutType=this.Laptop4K}};var f=function(t){this._updateLayoutType()};x.core._protoOnChanged(u,"contextHeight",f),x.core._protoOnChanged(u,"contextWidth",f),u.$c=function(t){h.$c.call(this,t.$b={})},u.$s=function(t){var e=this;h.$s.call(this,t.$b),delete t.$b,e._replaceUpdater("portrait",function(){e.portrait=e.parent.width<e.parent.height},[e.parent,"height",e.parent,"width"]),e._replaceUpdater("contextWidth",function(){e.contextWidth=e._context.width},[e._context,"width"]),e._replaceUpdater("landscape",function(){e.landscape=!e.portrait},[e,"portrait"]),e._replaceUpdater("contextHeight",function(){e.contextHeight=e._context.height},[e._context,"height"]),e.completed()};var g=x.core.Object,m=g.prototype,_=x.core.Shadow=function(t,e){g.apply(this,arguments)},y=_.prototype=Object.create(m);y.constructor=_,y.componentName="core.Shadow",o.addProperty(y,"real","x"),o.addProperty(y,"real","y"),o.addProperty(y,"Color","color","black"),o.addProperty(y,"real","blur"),o.addProperty(y,"real","spread"),y._empty=function(){return!(this.x||this.y||this.blur||this.spread)},y._getFilterStyle=function(){var t=this.x+"px "+this.y+"px "+this.blur+"px ";return 0<this.spread&&(t+=this.spread+"px "),t+=x.core.Color.normalize(this.color)};f=function(t){this.parent._updateStyle(!0)};x.core._protoOnChanged(y,"x",f),x.core._protoOnChanged(y,"spread",f),x.core._protoOnChanged(y,"y",f),x.core._protoOnChanged(y,"blur",f),x.core._protoOnChanged(y,"color",f),y.$c=function(t){m.$c.call(this,t.$b={})},y.$s=function(t){m.$s.call(this,t.$b),delete t.$b,this.completed()};var v=x.core.Object,b=v.prototype,$=x.controls.core.Request=function(t,e){v.apply(this,arguments)},w=$.prototype=Object.create(b);w.constructor=$,w.componentName="controls.core.Request",o.addProperty(w,"bool","loading",!1),w.ajax=function(t){var e=t.url,i=t.error,r=t.headers,o=t.done,n=t.settings,a=new XMLHttpRequest,s=this,c=this._context;for(var l in i&&a.addEventListener("error",c.wrapNativeCallback(function(t){s.loading=!1,log("Error"),i(t)})),o&&a.addEventListener("load",c.wrapNativeCallback(function(t){s.loading=!1,o(t)})),a.open(t.method||"GET",e),n)a[l]=n[l];for(var l in r)a.setRequestHeader(l,r[l]);this.loading=!0,t.data?a.send(t.data):a.send()},w.$c=function(t){b.$c.call(this,t.$b={})},w.$s=function(t){b.$s.call(this,t.$b),delete t.$b,this.completed()};var C=x.core.Object,k=C.prototype,A=x.core.Item=function(t,e){if(C.apply(this,arguments),this._pressedHandlers={},this._topPadding=0,this._borderXAdjust=0,this._borderYAdjust=0,this._borderWidthAdjust=0,this._borderHeightAdjust=0,t){if(this.element)throw new Error("double ctor call");this._createElement(this.getTag(),this.getClass())}},O=A.prototype=Object.create(k);O.constructor=A,O.componentName="core.Item",O.anchorsMarginsUpdated=x.core.createSignal("anchorsMarginsUpdated"),O.newBoundingBox=x.core.createSignal("newBoundingBox"),o.addProperty(O,"int","x"),o.addProperty(O,"int","y"),o.addProperty(O,"int","z"),o.addProperty(O,"int","width"),o.addProperty(O,"int","height"),o.addProperty(O,"bool","clip"),o.addProperty(O,"real","radius"),o.addProperty(O,"bool","focus"),o.addProperty(O,"bool","focused"),o.addProperty(O,"bool","activeFocus"),o.addProperty(O,"Item","focusedChild"),o.addProperty(O,"bool","visible",!0),o.addProperty(O,"bool","visibleInView",!0),o.addProperty(O,"bool","recursiveVisible",!1),o.addProperty(O,"real","opacity",1),o.addLazyProperty(O,"anchors",function(t,e){var i,r={lazy$anchors:i=new x.core.Anchors(t,e)};return i.$c(r.$c$lazy$anchors={}),(i=r.lazy$anchors).$s(r.$c$lazy$anchors),delete r.$c$lazy$anchors,i.completed(),i}),o.addLazyProperty(O,"effects",function(t,e){var i,r={lazy$effects:i=new x.core.Effects(t,e)};return i.$c(r.$c$lazy$effects={}),(i=r.lazy$effects).$s(r.$c$lazy$effects),delete r.$c$lazy$effects,i.completed(),i}),o.addLazyProperty(O,"transform",function(t,e){var i,r={lazy$transform:i=new x.core.Transform(t,e)};return i.$c(r.$c$lazy$transform={}),(i=r.lazy$transform).$s(r.$c$lazy$transform),delete r.$c$lazy$transform,i.completed(),i}),o.addProperty(O,"bool","cssTranslatePositioning"),o.addProperty(O,"bool","cssNullTranslate3D"),o.addProperty(O,"bool","cssDelegateAlwaysVisibleOnAcceleratedSurfaces",!0),o.addConstProperty(O,"left",function(){return[this,0]}),o.addConstProperty(O,"top",function(){return[this,1]}),o.addConstProperty(O,"right",function(){return[this,2]}),o.addConstProperty(O,"bottom",function(){return[this,3]}),o.addConstProperty(O,"horizontalCenter",function(){return[this,4]}),o.addConstProperty(O,"verticalCenter",function(){return[this,5]}),o.addProperty(O,"int","viewX"),o.addProperty(O,"int","viewY"),o.addProperty(O,"int","keyProcessDelay"),O.discard=function(){x.core.Object.prototype.discard.apply(this),this.focusedChild=null,this._pressedHandlers={},this.element&&this.element.discard()},O._tryFocus=function(){if(!this.visible)return!1;if(this.focusedChild&&this.focusedChild._tryFocus())return!0;for(var t=this.children,e=0;e<t.length;++e){var i=t[e];if(i._tryFocus())return this._focusChild(i),!0}return this.focus},O._updateStyle=function(){var t=this.element;t&&t.updateStyle()},O.toScreen=function(){for(var t=this,e=0,i=0,r=this.width,o=this.height;t;){if(e+=t.x,i+=t.y,t.hasOwnProperty("view")){var n=t.view.content;e+=t.viewX+n.x,i+=t.viewY+n.y}t=t.parent}return[e,i,e+r,i+o,e+r/2,i+o/2]},O.hasActiveFocus=function(){for(var t=this;t.parent;){if(t.parent.focusedChild!=t)return!1;t=t.parent}return!0},O._propagateFocusToParents=function(){for(var t=this;t.parent&&(!t.parent.focusedChild||!t.parent.focusedChild.visible);)t.parent._focusChild(t),t=t.parent},O.forceActiveFocus=function(){for(var t=this;t.parent;)t.parent._focusChild(t),t=t.parent},O._updateVisibility=function(){var t=this.visible&&this.visibleInView,e=!0,i=this.view;if(void 0!==i){var r=i.content;r.cssDelegateAlwaysVisibleOnAcceleratedSurfaces&&(r.cssTranslatePositioning||r.cssNullTranslate3D)&&!$manifest$cssDisableTransformations&&(e=!1)}e&&this.style("visibility",t?"inherit":"hidden"),this.recursiveVisible=t&&(null===this.parent||this.parent.recursiveVisible)},O._setSizeAdjust=function(){var t=this.x+this.viewX+this._borderXAdjust,e=this.y+this.viewY+this._borderYAdjust;this.cssTranslatePositioning&&!$manifest$cssDisableTransformations?(this.transform.translateX=t,this.transform.translateY=e):(this.style("left",t),this.style("top",e))},O.getClass=function(){return""},O.getTag=function(){return"div"},O.setFocus=function(){this.forceActiveFocus()},O._focusTree=function(t){this.activeFocus=t,this.focusedChild&&this.focusedChild._focusTree(t)},O.addChild=function(t){x.core.Object.prototype.addChild.apply(this,arguments),t._tryFocus()&&t._propagateFocusToParents()},O._focusChild=function(t){if(t.parent!==this)throw new Error("invalid object passed as child");this.focusedChild!==t&&(this.focusedChild&&(this.focusedChild._focusTree(!1),this.focusedChild.focused=!1),this.focusedChild=t,this.focusedChild&&(this.focusedChild._focusTree(this.hasActiveFocus()),this.focusedChild.focused=!0))},O.focusChild=function(t){this._propagateFocusToParents(),this._focusChild(t)},O._updateVisibilityForChild=function(t,e){t.recursiveVisible=e&&t.visible&&t.visibleInView},O._attachElement=function(t){this.element&&this.element.discard(),(t._item=this).element=t;var e=this.parent;e&&e.element.append(t)},O._processKey=function(t){var e=this._get("key",!0),i=t.which||t.keyCode,r=(e=x.core.keyCodes[i],t.timeStamp);if(void 0!==e){if(this.keyProcessDelay){if(this._lastEvent&&r>this._lastEvent&&r-this._lastEvent<this.keyProcessDelay)return!0;this._lastEvent=r}var o=x.core.safeCall(this,[e,t],function(t){log("on "+e+" handler failed:",t,t.stack)}),n=this["__key__"+e];if(e in this._pressedHandlers)return this.invokeKeyHandlers(e,t,this._pressedHandlers[e],o);if(n)return this.invokeKeyHandlers(e,t,n,o);n=this.__key__Key;if("Key"in this._pressedHandlers)return this.invokeKeyHandlers(e,t,this._pressedHandlers.Key,o);if(n)return this.invokeKeyHandlers(e,t,n,o)}else log("unknown keycode "+i+": ["+t.charCode+" "+t.keyCode+" "+t.which+" "+t.key+" "+t.code+" "+t.location+"]");return!1},O.invokeKeyHandlers=function(t,e,i,r){for(var o=i.length-1;0<=o;--o){if(r(i[o]))return $manifest$trace$keys&&log("key "+t+" handled in "+(performance.now()-e.timeStamp).toFixed(3)+" ms by",this,(new Error).stack),!0}return!1},O.onPressed=function(t,i){var e;this._get("key",!0);e="Key"!=t?function(t,e){return e.accepted=!0,i(t,e),e.accepted}:i,t in this._pressedHandlers?this._pressedHandlers[t].push(e):this._pressedHandlers[t]=[e]},O.style=function(t,e){var i=this.element;if(i)return i.style(t,e);log("WARNING: style skipped:",t,e)},O._enqueueNextChildInFocusChain=function(t,e){this._tryFocus();var i=this.focusedChild;i&&i.visible&&(t.unshift(i),e.unshift(i))},O.registerStyle=function(t,e){var i="position: absolute; visibility: inherit; opacity: 1.0;";i+="border-style: solid; border-width: 0px; border-radius: 0px; box-sizing: border-box; border-color: rgba(0,0,0,1);",i+="white-space: nowrap; transform: none;",i+="left: 0px; top: 0px; width: 0px; height: 0px;",i+="font-family: "+$manifest$style$font$family+"; line-height: "+$manifest$style$font$lineHeight+"; ",$manifest$style$font$pixelSize?i+="font-size: "+$manifest$style$font$pixelSize+"px; ":$manifest$style$font$pointSize&&(i+="font-size: "+$manifest$style$font$pointSize+"pt; "),t.addRule(e,i)},O._createElement=function(t,e){var i=this._get("context",!0);null===(i=this._context)&&(i=this),i.registerStyle(this,t,e),this._attachElement(i.createElement(t,e))},x.core._protoOnChanged(O,"cssNullTranslate3D",function(t){$manifest$cssDisableTransformations||this.style("transform",t?"translateZ(0)":"")}),x.core._protoOnChanged(O,"recursiveVisible",function(t){for(var e=this.children,i=0,r=e.length;i<r;++i){var o=e[i];this._updateVisibilityForChild(o,t)}t||this.parent._tryFocus()});f=function(t){var e=this.x+this.viewX;this.cssTranslatePositioning&&!$manifest$cssDisableTransformations?this.transform.translateX=e:this.style("left",e),this.newBoundingBox()};x.core._protoOnChanged(O,"x",f),x.core._protoOnChanged(O,"viewX",f);var P=function(t){var e=this.y+this.viewY;this.cssTranslatePositioning&&!$manifest$cssDisableTransformations?this.transform.translateY=e:this.style("top",e),this.newBoundingBox()};x.core._protoOnChanged(O,"y",P),x.core._protoOnChanged(O,"viewY",P),x.core._protoOnChanged(O,"opacity",function(t){this.element&&this.style("opacity",t)});var S=function(t){this._updateVisibility()};x.core._protoOnChanged(O,"visible",S),x.core._protoOnChanged(O,"visibleInView",S),x.core._protoOnChanged(O,"radius",function(t){this.style("border-radius",t)}),x.core._protoOnChanged(O,"height",function(t){this.style("height",t-this._topPadding+this._borderHeightAdjust),this.newBoundingBox()}),x.core._protoOnChanged(O,"clip",function(t){this.style("overflow",t?"hidden":"visible")}),x.core._protoOnChanged(O,"width",function(t){this.style("width",t+this._borderWidthAdjust),this.newBoundingBox()}),x.core._protoOnChanged(O,"z",function(t){this.style("z-index",t)}),O.$c=function(t){k.$c.call(this,t.$b={})},O.$s=function(t){k.$s.call(this,t.$b),delete t.$b,this.completed()};var z=x.core.Object,E=z.prototype,I=x.core.Animation=function(t,e){z.apply(this,arguments),this._disabled=0,this._native=!1},T=I.prototype=Object.create(E);T.constructor=I,T.componentName="core.Animation",o.addProperty(T,"int","delay",0),o.addProperty(T,"int","duration",200),o.addProperty(T,"bool","cssTransition",!0),o.addProperty(T,"bool","running",!1),o.addProperty(T,"string","easing","ease"),T._updateAnimation=function(){this._target&&this._target.updateAnimation(this._property,this)},T.active=function(){return this.enabled()&&0<this.duration},T.disable=function(){++this._disabled,this._updateAnimation()},T.enable=function(){--this._disabled,this._updateAnimation()},T.enabled=function(){return 0===this._disabled},T.complete=function(){},T.interpolate=function(t,e,i){return i*(t-e)+e};f=function(t){this._updateAnimation()};x.core._protoOnChanged(T,"easing",f),x.core._protoOnChanged(T,"duration",f),x.core._protoOnChanged(T,"delay",f),x.core._protoOnChanged(T,"cssTransition",f),x.core._protoOnChanged(T,"running",f),T.$c=function(t){E.$c.call(this,t.$b={})},T.$s=function(t){E.$s.call(this,t.$b),delete t.$b,this.completed()};var U=x.core.Item,H=U.prototype,j=x.core.Loader=function(t,e){U.apply(this,arguments)},L=j.prototype=Object.create(H);L.constructor=j,L.componentName="core.Loader",L.loaded=x.core.createSignal("loaded"),o.addProperty(L,"string","source"),o.addProperty(L,"Object","item"),L.discard=function(){this.discardItem(),x.core.Item.prototype.discard.call(this)},L.discardItem=function(){var t=this.item;t&&(t.discard(),t=null)},L._load=function(){var t=this.source;if(t){log("loading "+t+"…");for(var e=t.split("."),i=x;e.length;){if(void 0===(i=i[e.shift()]))throw new Error("unknown component used: "+t)}var r=new i(this);r.__init(),this.item=r,this._context.scheduleComplete(),this._updateVisibilityForChild(this.item,this.recursiveVisible),this._tryFocus(),this.loaded()}},L.__complete=function(){H.__complete.call(this),!this.item&&this.source&&this._load()},x.core._protoOnChanged(L,"recursiveVisible",function(t){this.item&&this._updateVisibilityForChild(this.item,t)}),x.core._protoOnChanged(L,"source",function(t){this.discardItem(),this._load()}),L.$c=function(t){H.$c.call(this,t.$b={})},L.$s=function(t){H.$s.call(this,t.$b),delete t.$b,this.completed()};var M=x.core.Item,B=M.prototype,R=x.controls.core.BaseActivity=function(t,e){M.apply(this,arguments)},N=R.prototype=Object.create(B);N.constructor=R,N.componentName="controls.core.BaseActivity",N.started=x.core.createSignal("started"),N.stopped=x.core.createSignal("stopped"),o.addProperty(N,"string","name"),o.addProperty(N,"Item","manager"),N.clear=function(){this.manager.clear()},N.pop=function(){this.manager.pop()},N.init=function(t,e){},N.push=function(t,e,i){this.manager.push(t,e,i)},N.replaceTopActivity=function(t,e,i){this.manager.replaceTopActivity(t,e,i)},N.setIntent=function(t,e){this.manager.setIntent(t,e)},N.setState=function(t,e){this.manager.setState(t,e)},x.core._protoOnKey(N,"Back",function(t,e){return this.manager.pop(),!0}),N.$c=function(t){B.$c.call(this,t.$b={})},N.$s=function(t){var e=this;B.$s.call(this,t.$b),delete t.$b,e._removeUpdater("visible"),e.visible=!1,e._removeUpdater("manager"),e.manager=e.parent,e.completed()};var F=x.controls.core.BaseActivity,W=F.prototype,D=x.controls.core.LazyActivity=function(t,e){F.apply(this,arguments)},V=D.prototype=Object.create(W);V.constructor=D,V.componentName="controls.core.LazyActivity",o.addProperty(V,"string","component"),V.init=function(){x.controls.core.BaseActivity.prototype.init.apply(this,arguments);var t=this.createActivity();t&&t.init.apply(t,arguments)},V.start=function(){this.createActivity().start(),this.visible=!0},V.stop=function(){this.visible=!1;var t=this.getActivity();t&&t.stop()},V.getActivity=function(){return this._get("loader",!0).item},V.createActivity=function(){var t=this._get("loader",!0),e=t.item;if(!e){if(t.source=this.component,((e=t.item).anchors.fill=this)._context._processActions(),e.manager=this.manager,!e)throw new Error("can't create component "+this.component);var i=this;e.on("started",function(){i.started()}),e.on("stopped",function(){i.stopped()})}return t.item},V.$c=function(t){W.$c.call(this,t.$b={});var e=new x.core.Loader(this);(t._this$child0=e).$c(t.$c$_this$child0={}),e._setId("loader"),this.addChild(e)},V.$s=function(t){var e=this;W.$s.call(this,t.$b),delete t.$b,e.anchors._replaceUpdater("fill",function(){e.anchors.fill=e.manager},[e,"manager"]);var i=t._this$child0;i.$s(t.$c$_this$child0),delete t.$c$_this$child0,i.anchors._replaceUpdater("fill",function(){i.anchors.fill=i.parent.manager},[i.parent,"manager"]),i.completed(),e.completed()};var q=x.core.Item,Y=q.prototype,X=x.controls.google.YouTube=function(t,e){q.apply(this,arguments)},K=X.prototype=Object.create(Y);K.constructor=X,K.componentName="controls.google.YouTube",o.addProperty(K,"string","source"),o.addProperty(K,"bool","allowFullScreen"),K._updateSize=function(){var t={width:this.width,height:this.height};this.style(t)},K.getTag=function(){return"iframe"};f=function(t){this._updateSize()};x.core._protoOnChanged(K,"width",f),x.core._protoOnChanged(K,"height",f),x.core._protoOnChanged(K,"allowFullScreen",function(t){this.element.dom.allowFullscreen=t}),x.core._protoOnChanged(K,"source",function(t){this.element.dom.src=t}),K.$c=function(t){Y.$c.call(this,t.$b={})},K.$s=function(t){var e=this;Y.$s.call(this,t.$b),delete t.$b,e._removeUpdater("width"),e.width=560,e._removeUpdater("height"),e.height=315,e.completed()};var G=x.core.Item,Z=G.prototype,J=x.core.Rectangle=function(t,e){G.apply(this,arguments),this._context.backend.initRectangle(this)},Q=J.prototype=Object.create(Z);(Q._propertyToStyle=Object.create(Z._propertyToStyle)).color="background-color",Q.constructor=J,Q.componentName="core.Rectangle",o.addProperty(Q,"color","color","#0000"),o.addLazyProperty(Q,"border",function(t,e){var i,r={lazy$border:i=new x.core.Border(t,e)};return i.$c(r.$c$lazy$border={}),(i=r.lazy$border).$s(r.$c$lazy$border),delete r.$c$lazy$border,i.completed(),i}),o.addProperty(Q,"Gradient","gradient"),x.core._protoOnChanged(Q,"color",function(t){this.style("background-color",x.core.Color.normalize(t))}),Q.$c=function(t){Z.$c.call(this,t.$b={})},Q.$s=function(t){Z.$s.call(this,t.$b),delete t.$b,this.completed()};var tt=x.core.Rectangle,et=tt.prototype,it=x.controls.web.WebItem=function(t,e){tt.apply(this,arguments)},rt=it.prototype=Object.create(et);rt.constructor=it,rt.componentName="controls.web.WebItem",o.addProperty(rt,"Mixin","hoverMixin"),o.addProperty(rt,"string","position"),x.core._protoOnChanged(rt,"position",function(t){this.style("position",t)}),rt.$c=function(t){var e=this;et.$c.call(this,t.$b={});var i=new x.controls.web.HoverClickMixin(e);(t._this$hoverMixin=i).$c(t.$c$_this$hoverMixin={}),e.hoverMixin=i,o.addAliasProperty(e,"hover",function(){return e.hoverMixin},"value"),o.addAliasProperty(e,"activeHoverEnabled",function(){return e.hoverMixin},"activeHoverEnabled"),o.addAliasProperty(e,"activeHover",function(){return e.hoverMixin},"activeHover"),o.addAliasProperty(e,"cursor",function(){return e.hoverMixin},"cursor"),o.addAliasProperty(e,"clickable",function(){return e.hoverMixin},"clickable"),o.addAliasProperty(e,"hoverable",function(){return e.hoverMixin},"enabled")},rt.$s=function(t){var e=this;et.$s.call(this,t.$b),delete t.$b,e._removeUpdater("color"),e.color="transparent";var i=t._this$hoverMixin;i.$s(t.$c$_this$hoverMixin),delete t.$c$_this$hoverMixin,i.completed(),e.hoverMixin._removeUpdater("cursor"),e.hoverMixin.cursor="pointer",e.completed()};var ot=x.core.Object,nt=ot.prototype,at=x.controls.web.HoverClickMixin=function(t,e){ot.apply(this,arguments),this.element=this.parent.element,this.parent.style("cursor",this.cursor),this._bindClick(this.clickable),this._bindHover(this.enabled),this._bindActiveHover(this.activeHoverEnabled)},st=at.prototype=Object.create(nt);st.constructor=at,st.componentName="controls.web.HoverClickMixin",o.addProperty(st,"bool","enabled",!0),o.addProperty(st,"bool","clickable",!0),o.addProperty(st,"bool","activeHoverEnabled",!1),o.addProperty(st,"bool","value"),o.addProperty(st,"bool","activeHover",!1),o.addProperty(st,"string","cursor"),st._bindActiveHover=function(t){t&&!this._hmActiveHoverBinder&&(this._hmActiveHoverBinder=new x.core.EventBinder(this.parent.element),this._hmActiveHoverBinder.on("mouseover",function(){this.activeHover=!0}.bind(this)),this._hmActiveHoverBinder.on("mouseout",function(){this.activeHover=!1}.bind(this))),this._hmActiveHoverBinder&&this._hmActiveHoverBinder.enable(t)},st._bindClick=function(t){t&&!this._hmClickBinder&&(this._hmClickBinder=new x.core.EventBinder(this.element),this._hmClickBinder.on("click",x.core.createSignalForwarder(this.parent,"clicked").bind(this))),this._hmClickBinder&&this._hmClickBinder.enable(t)},st._bindHover=function(t){t&&!this._hmHoverBinder&&(this._hmHoverBinder=new x.core.EventBinder(this.parent.element),this._context.backend.capabilities.mouseEnterLeaveSupported?(this._hmHoverBinder.on("mouseenter",function(){this.value=!0}.bind(this)),this._hmHoverBinder.on("mouseleave",function(){this.value=!1}.bind(this))):(this._hmHoverBinder.on("mouseover",function(){this.value=!0}.bind(this)),this._hmHoverBinder.on("mouseout",function(){this.value=!1}.bind(this)))),this._hmHoverBinder&&this._hmHoverBinder.enable(t)},x.core._protoOnChanged(st,"cursor",function(t){this._get("cursor",!0);this.parent.style("cursor",t)}),x.core._protoOnChanged(st,"activeHoverEnabled",function(t){this._bindActiveHover(t)}),x.core._protoOnChanged(st,"clickable",function(t){this._bindClick(t)}),x.core._protoOnChanged(st,"enabled",function(t){this._bindHover(t)}),st.$c=function(t){nt.$c.call(this,t.$b={})},st.$s=function(t){nt.$s.call(this,t.$b),delete t.$b,this.completed()};var ct=x.core.Item,lt=ct.prototype,dt=x.src.UiApp=function(t,e){ct.apply(this,arguments)},ht=dt.prototype=Object.create(lt);ht.constructor=dt,ht.componentName="src.UiApp",x.core._protoOnKey(ht,"Back",function(t,e){var i=this._get("osd",!0);i.active?i.toggleActive():x.closeApp()}),x.core._protoOnKey(ht,"Select",function(t,e){this._get("osd",!0).toggleActive()}),ht.$c=function(t){var e=this;lt.$c.call(this,t.$b={});var i=new x.controls.google.YouTube(e);(t._this$child0=i).$c(t.$c$_this$child0={}),e.addChild(i);var r=new x.src.Osd(e);(t._this$child1=r).$c(t.$c$_this$child1={}),r._setId("osd"),e.addChild(r);var o=new x.controls.web.WebItem(e);(t._this$child2=o).$c(t.$c$_this$child2={});var n=new x.core.Image(o);(t._this_child2$child0=n).$c(t.$c$_this_child2$child0={}),o.addChild(n),e.addChild(o)},ht.$s=function(t){var e=this;lt.$s.call(this,t.$b),delete t.$b,e._removeUpdater("focus"),e.focus=!0,e.anchors._replaceUpdater("fill",function(){e.anchors.fill=e._context},[e,"context"]);var i=t._this$child0;i.$s(t.$c$_this$child0),delete t.$c$_this$child0,i._removeUpdater("source"),i.source="https://www.youtube.com/embed/RtU_mdL2vBM?autoplay=1&controls=0&showinfo=0",i.anchors._removeUpdater("fill"),i.anchors.fill=i.parent,i.completed();var r=t._this$child1;r.$s(t.$c$_this$child1),delete t.$c$_this$child1,r.toggleActive=function(){var t=this._get("osd",!0);t.active=!t.active}.bind(r),r.on("clicked",function(){this.toggleActive()}.bind(r)),r.completed();var o=t._this$child2;o.$s(t.$c$_this$child2),delete t.$c$_this$child2,o._removeUpdater("width"),o.width=50,o.anchors._replaceUpdater("top",function(){o.anchors.top=o.parent.top},[o.parent,"top"]),o.anchors._replaceUpdater("left",function(){o.anchors.left=o.parent.left},[o.parent,"left"]),o._replaceUpdater("visible",function(){o.visible=o._get("osd").mobile},[o._get("osd"),"mobile"]),o._removeUpdater("height"),o.height=50,o.on("clicked",function(){this._get("osd",!0).toggleActive()}.bind(o));var n=t._this_child2$child0;n.$s(t.$c$_this_child2$child0),delete t.$c$_this_child2$child0,n._replaceUpdater("source",function(){n.source=n._get("osd").active?"res/close.png":"res/earth.png"},[n._get("osd"),"active"]),n.anchors._removeUpdater("fill"),n.anchors.fill=n.parent,n.completed(),o.completed(),e.completed()};var pt=x.core.Item,ut=pt.prototype,ft=x.src.IssMap=function(t,e){pt.apply(this,arguments)},gt=ft.prototype=Object.create(ut);gt.constructor=ft,gt.componentName="src.IssMap",gt.setPos=function(t,e){var i=this._get("station",!0),r=this.width,o=this.height,n=t+180,a=90-e;n*=r/360,a*=o/180,n-=r/28.4,a+=o/19.45,i.x=n,i.y=a,i.visible=!0},gt.$c=function(t){ut.$c.call(this,t.$b={});var e=new x.core.Image(this);(t._this$child0=e).$c(t.$c$_this$child0={});var i=new x.core.Rectangle(e);(t._this_child0$child0=i).$c(t.$c$_this_child0$child0={}),i._setId("station"),e.addChild(i),this.addChild(e)},gt.$s=function(t){ut.$s.call(this,t.$b),delete t.$b,this.anchors._removeUpdater("fill"),this.anchors.fill=this.parent;var e=t._this$child0;e.$s(t.$c$_this$child0),delete t.$c$_this$child0,e._removeUpdater("source"),e.source="res/map.png",e._removeUpdater("fillMode"),e.fillMode=x.core.Image.prototype.Stetch,e.anchors._removeUpdater("fill"),e.anchors.fill=e.parent;var i=t._this_child0$child0;i.$s(t.$c$_this_child0$child0),delete t.$c$_this_child0$child0,i._removeUpdater("visible"),i.visible=!1,i._removeUpdater("color"),i.color="red",i._replaceUpdater("height",function(){i.height=i.width},[i,"width"]),i._removeUpdater("width"),i.width=30,i._replaceUpdater("radius",function(){i.radius=i.width/2},[i,"width"]),i.completed(),e.completed(),this.completed()};var mt=x.core.Object,_t=mt.prototype,yt=x.core.Font=function(t,e){mt.apply(this,arguments)},vt=yt.prototype=Object.create(_t);vt.constructor=yt,vt.componentName="core.Font",o.addProperty(vt,"string","family",$manifest$style$font$family),o.addProperty(vt,"bool","italic"),o.addProperty(vt,"bool","bold"),o.addProperty(vt,"bool","underline"),o.addProperty(vt,"bool","overline"),o.addProperty(vt,"bool","strike"),o.addProperty(vt,"bool","strikeout"),o.addProperty(vt,"real","letterSpacing"),o.addProperty(vt,"real","wordSpacing"),o.addProperty(vt,"int","pixelSize",$manifest$style$font$pixelSize),o.addProperty(vt,"int","pointSize"),o.addProperty(vt,"real","lineHeight",$manifest$style$font$lineHeight),o.addProperty(vt,"int","weight"),vt.MixedCase=0,yt.MixedCase=0,vt.AllUppercase=1,yt.AllUppercase=1,vt.AllLowercase=2,yt.AllLowercase=2,vt.SmallCaps=3,yt.SmallCaps=3,vt.Capitalize=4,yt.Capitalize=4,o.addProperty(vt,"enum","capitalization"),vt._updateTextDecoration=function(){var t=(this.underline?" underline":"")+(this.overline?" overline":"")+(this.strike||this.strikeout?" line-through":"");this.parent.style("text-decoration",t),this.parent._updateSize()},x.core._protoOnChanged(vt,"capitalization",function(t){switch(this.parent.style("text-transform","none"),this.parent.style("font-variant","normal"),t){case this.AllUppercase:this.parent.style("text-transform","uppercase");break;case this.AllLowercase:this.parent.style("text-transform","lowercase");break;case this.SmallCaps:this.parent.style("font-variant","small-caps");break;case this.Capitalize:this.parent.style("text-transform","capitalize")}}),x.core._protoOnChanged(vt,"pointSize",function(t){0<t&&(this.pixelSize=0),this.parent.style("font-size",0<t?t+"pt":""),this.parent._updateSize()}),x.core._protoOnChanged(vt,"pixelSize",function(t){0<t&&(this.pointSize=0),this.parent.style("font-size",0<t?t+"px":""),this.parent._updateSize()});f=function(t){this._updateTextDecoration()};x.core._protoOnChanged(vt,"strike",f),x.core._protoOnChanged(vt,"overline",f),x.core._protoOnChanged(vt,"strikeout",f),x.core._protoOnChanged(vt,"underline",f),x.core._protoOnChanged(vt,"family",function(t){this.parent.style("font-family",t),this.parent._updateSize()}),x.core._protoOnChanged(vt,"italic",function(t){this.parent.style("font-style",t?"italic":"normal"),this.parent._updateSize()}),x.core._protoOnChanged(vt,"weight",function(t){this.parent.style("font-weight",t),this.parent._updateSize()}),x.core._protoOnChanged(vt,"bold",function(t){this.parent.style("font-weight",t?"bold":"normal"),this.parent._updateSize()}),x.core._protoOnChanged(vt,"letterSpacing",function(t){this.parent.style("letter-spacing",t+"px"),this.parent._updateSize()}),x.core._protoOnChanged(vt,"lineHeight",function(t){this.parent.style("line-height",t),this.parent._updateSize()}),x.core._protoOnChanged(vt,"wordSpacing",function(t){this.parent.style("word-spacing",t+"px"),this.parent._updateSize()}),vt.$c=function(t){_t.$c.call(this,t.$b={})},vt.$s=function(t){_t.$s.call(this,t.$b),delete t.$b,this.completed()};var bt=x.core.Object,$t=bt.prototype,wt=x.core.Border=function(t,e){bt.apply(this,arguments)},xt=wt.prototype=Object.create($t);xt.constructor=wt,xt.componentName="core.Border",o.addProperty(xt,"int","width"),o.addProperty(xt,"color","color","black"),o.addLazyProperty(xt,"left",function(t,e){var i,r={lazy$left:i=new x.core.BorderSide(t,e)};return i.$c(r.$c$lazy$left={}),(i=r.lazy$left).$s(r.$c$lazy$left),delete r.$c$lazy$left,i._removeUpdater("name"),i.name="left",i.completed(),i}),o.addLazyProperty(xt,"right",function(t,e){var i,r={lazy$right:i=new x.core.BorderSide(t,e)};return i.$c(r.$c$lazy$right={}),(i=r.lazy$right).$s(r.$c$lazy$right),delete r.$c$lazy$right,i._removeUpdater("name"),i.name="right",i.completed(),i}),o.addLazyProperty(xt,"top",function(t,e){var i,r={lazy$top:i=new x.core.BorderSide(t,e)};return i.$c(r.$c$lazy$top={}),(i=r.lazy$top).$s(r.$c$lazy$top),delete r.$c$lazy$top,i._removeUpdater("name"),i.name="top",i.completed(),i}),o.addLazyProperty(xt,"bottom",function(t,e){var i,r={lazy$bottom:i=new x.core.BorderSide(t,e)};return i.$c(r.$c$lazy$bottom={}),(i=r.lazy$bottom).$s(r.$c$lazy$bottom),delete r.$c$lazy$bottom,i._removeUpdater("name"),i.name="bottom",i.completed(),i}),xt.None=0,wt.None=0,xt.Hidden=1,wt.Hidden=1,xt.Dotted=2,wt.Dotted=2,xt.Dashed=3,wt.Dashed=3,xt.Solid=4,wt.Solid=4,xt.Double=5,wt.Double=5,xt.Groove=6,wt.Groove=6,xt.Ridge=7,wt.Ridge=7,xt.Inset=8,wt.Inset=8,xt.Outset=9,wt.Outset=9,o.addProperty(xt,"enum","style",wt.Solid),xt.Inner=0,wt.Inner=0,xt.Outer=1,wt.Outer=1,xt.Center=2,wt.Center=2,o.addProperty(xt,"enum","type"),x.core._protoOnChanged(xt,"color",function(t){var e=x.core.Color.normalize(this.color);this.parent.style("border-color",e)}),x.core._protoOnChanged(xt,"width",function(t){var e=this.parent;e.style("border-width",t),this.type===this.Outer?(e._borderXAdjust=-t,e._borderYAdjust=-t,e._setSizeAdjust()):this.type===this.Center&&(e._borderXAdjust=-t/2,e._borderYAdjust=-t/2,e._borderWidthAdjust=-t,e._borderHeightAdjust=-t,e._setSizeAdjust())}),x.core._protoOnChanged(xt,"type",function(t){var e;switch(t){case this.Inner:e="border-box";break;case this.Outer:case this.Center:e="content-box"}this.parent.style("box-sizing",e)}),x.core._protoOnChanged(xt,"style",function(t){var e;switch(t){case this.None:e="none";break;case this.Hidden:e="hidden";break;case this.Dotted:e="dotted";break;case this.Dashed:e="dashed";break;case this.Solid:e="solid";break;case this.Double:e="double";break;case this.Groove:e="groove";break;case this.Ridge:e="ridge";break;case this.Inset:e="inset";break;case this.Outset:e="outset"}this.parent.style("border-style",e)}),xt.$c=function(t){$t.$c.call(this,t.$b={})},xt.$s=function(t){$t.$s.call(this,t.$b),delete t.$b,this.completed()};var Ct=x.controls.web.WebItem,kt=Ct.prototype,At=x.src.Osd=function(t,e){Ct.apply(this,arguments)},Ot=At.prototype=Object.create(kt);Ot.constructor=At,Ot.componentName="src.Osd",o.addProperty(Ot,"bool","active",!1),o.addProperty(Ot,"bool","mobile"),Ot.updatePositionRequest=function(){var t=this._get("request",!0),i=this;t.call(function(t){var e=JSON.parse(t.target.response);e?i.doUpdatePosition(e):log("Request error")})},Ot.doUpdatePosition=function(t){var e=this._get("positionText",!0),i=this._get("map",!0),r=parseFloat(t.longitude),o=parseFloat(t.latitude);e.text="Lon: "+Number(r.toFixed(1))+"<br>Lat: "+Number(o.toFixed(1)),e.text+="<br>Visibility: "+t.visibility,i.setPos(r,o)},Ot.$c=function(t){var e=this;kt.$c.call(this,t.$b={});var i=new x.src.IssRequest(e);(t._this$child0=i).$c(t.$c$_this$child0={}),i._setId("request"),e.addChild(i);var r=new x.src.IssMap(e);(t._this$child1=r).$c(t.$c$_this$child1={}),r._setId("map"),e.addChild(r);var o=new x.core.Text(e);(t._this$child2=o).$c(t.$c$_this$child2={}),o._setId("positionText"),e.addChild(o);var n=new x.core.Timer(e);(t._this$child3=n).$c(t.$c$_this$child3={}),e.addChild(n),e._setId("osdProto")},Ot.$s=function(t){var e=this;kt.$s.call(this,t.$b),delete t.$b,e._replaceUpdater("opacity",function(){e.opacity=e.active?1:0},[e,"active"]),e._replaceUpdater("mobile",function(){e.mobile=e._context.system.device==x.core.System.prototype.Mobile},[e._context.system,"device"]),e._replaceUpdater("height",function(){e.height=e.mobile&&!e.active?50:e._context.height},[e._context,"height",e,"active",e,"mobile"]),e._replaceUpdater("width",function(){e.width=e.mobile&&!e.active?50:e._context.width},[e._context,"width",e,"active",e,"mobile"]),e.anchors._replaceUpdater("top",function(){e.anchors.top=e.parent.top},[e.parent,"top"]),e.anchors._replaceUpdater("left",function(){e.anchors.left=e.parent.left},[e.parent,"left"]);var i=t._this$child0;i.$s(t.$c$_this$child0),delete t.$c$_this$child0,i.completed();var r=t._this$child1;r.$s(t.$c$_this$child1),delete t.$c$_this$child1,r.completed();var o=t._this$child2;o.$s(t.$c$_this$child2),delete t.$c$_this$child2,o._removeUpdater("color"),o.color="#fff",o._removeUpdater("text"),o.text="Lon: -<br>Lat: -<br>Visibility: -",o.anchors._removeUpdater("margins"),o.anchors.margins=10,o.anchors._replaceUpdater("bottom",function(){o.anchors.bottom=o.parent.bottom},[o.parent,"bottom"]),o.font._removeUpdater("pixelSize"),o.font.pixelSize=24,o.anchors._replaceUpdater("left",function(){o.anchors.left=o.parent.left},[o.parent,"left"]),o.completed();var n=t._this$child3;n.$s(t.$c$_this$child3),delete t.$c$_this$child3,n._replaceUpdater("running",function(){n.running=n.parent.active},[n.parent,"active"]),n._removeUpdater("interval"),n.interval=1e4,n._removeUpdater("triggeredOnStart"),n.triggeredOnStart=!0,n._removeUpdater("repeat"),n.repeat=!0,n.on("triggered",function(){this.parent.updatePositionRequest()}.bind(n)),n.completed();var a,s={behavior__this_on_opacity:a=new x.core.Animation(e)};a.$c(s.$c$behavior__this_on_opacity={}),(a=s.behavior__this_on_opacity).$s(s.$c$behavior__this_on_opacity),delete s.$c$behavior__this_on_opacity,a._replaceUpdater("duration",function(){a.duration=a._get("osdProto")?0:300},[a,"osdProto"]),a.completed(),e.setAnimation("opacity",a),e.completed()};var Pt=x.core.Object,St=Pt.prototype,zt=x.core.Timer=function(t,e){Pt.apply(this,arguments),this._trigger=this._context.wrapNativeCallback(this.triggered.bind(this))},Et=zt.prototype=Object.create(St);Et.constructor=zt,Et.componentName="core.Timer",Et.triggered=x.core.createSignal("triggered"),o.addProperty(Et,"int","interval",1e3),o.addProperty(Et,"bool","repeat"),o.addProperty(Et,"bool","running"),o.addProperty(Et,"bool","triggeredOnStart"),Et._restart=function(){if(this._timeout&&(clearTimeout(this._timeout),this._timeout=void 0),this._interval&&(clearTimeout(this._interval),this._interval=void 0),this.running){this._context;this.repeat?this._interval=setInterval(this._trigger,this.interval):this._timeout=setTimeout(this._trigger,this.interval)}},Et.__complete=function(){St.__complete.call(this),this.running&&this.triggeredOnStart&&this.triggered()},Et.stop=function(){this.running=!1},Et.start=function(){this.running=!0},Et.restart=function(){this.stop(),this.start()},x.core._protoOnChanged(Et,"running",function(t){this._restart(),t&&this.triggeredOnStart&&(this._triggered=!1,this.triggered())});f=function(t){this._restart()};x.core._protoOnChanged(Et,"interval",f),x.core._protoOnChanged(Et,"repeat",f),x.core._protoOn(Et,"triggered",function(){this.repeat||this.triggeredOnStart&&!this._triggered||(this.running=!1),this._triggered=!0}),Et.$c=function(t){St.$c.call(this,t.$b={})},Et.$s=function(t){St.$s.call(this,t.$b),delete t.$b,this.completed()};var It=x.controls.core.BaseActivity,Tt=It.prototype,Ut=x.controls.core.Activity=function(t,e){It.apply(this,arguments)},Ht=Ut.prototype=Object.create(Tt);Ht.constructor=Ut,Ht.componentName="controls.core.Activity",Ht.getActivity=function(){return this},Ht.stop=function(){this.visible=!1,this.stopped()},Ht.start=function(){this.visible=!0,this.started()},Ht.$c=function(t){Tt.$c.call(this,t.$b={})},Ht.$s=function(t){Tt.$s.call(this,t.$b),delete t.$b,this.completed()};var jt=x.core.Object,Lt=jt.prototype,Mt=x.core.Effects=function(t,e){jt.apply(this,arguments)},Bt=Mt.prototype=Object.create(Lt);Bt.constructor=Mt,Bt.componentName="core.Effects",o.addProperty(Bt,"real","blur"),o.addProperty(Bt,"real","grayscale"),o.addProperty(Bt,"real","sepia"),o.addProperty(Bt,"real","brightness"),o.addProperty(Bt,"real","contrast"),o.addProperty(Bt,"real","hueRotate"),o.addProperty(Bt,"real","invert"),o.addProperty(Bt,"real","saturate"),o.addLazyProperty(Bt,"shadow",function(t,e){var i,r={lazy$shadow:i=new x.core.Shadow(t,e)};return i.$c(r.$c$lazy$shadow={}),(i=r.lazy$shadow).$s(r.$c$lazy$shadow),delete r.$c$lazy$shadow,i.completed(),i}),Bt._getFilterStyle=function(){var t=[];return this._addStyle(t,"blur","blur","px"),this._addStyle(t,"grayscale"),this._addStyle(t,"sepia"),this._addStyle(t,"brightness"),this._addStyle(t,"contrast"),this._addStyle(t,"hueRotate","hue-rotate","deg"),this._addStyle(t,"invert"),this._addStyle(t,"saturate"),t},Bt._addStyle=function(t,e,i,r){var o=this[e];o&&t.push((i||e)+"("+o+(r||"")+") ")},Bt._updateStyle=function(t){var e=this._getFilterStyle().join(""),i=this.parent,r={};r["-webkit-filter"]=e,r.filter=e,!this.shadow||this.shadow._empty()&&!t||(r["box-shadow"]=this.shadow._getFilterStyle()),i.style(r)};f=function(t){this._updateStyle()};x.core._protoOnChanged(Bt,"saturate",f),x.core._protoOnChanged(Bt,"brightness",f),x.core._protoOnChanged(Bt,"grayscale",f),x.core._protoOnChanged(Bt,"sepia",f),x.core._protoOnChanged(Bt,"invert",f),x.core._protoOnChanged(Bt,"hueRotate",f),x.core._protoOnChanged(Bt,"contrast",f),x.core._protoOnChanged(Bt,"blur",f),Bt.$c=function(t){Lt.$c.call(this,t.$b={})},Bt.$s=function(t){Lt.$s.call(this,t.$b),delete t.$b,this.completed()};var Rt=x.core.Item,Nt=Rt.prototype,Ft=x.core.Context=function(t,e){Rt.apply(this,arguments),this.options=arguments[2],this.l10n=this.options.l10n||{},((this._local.context=this)._context=this)._started=!1,this._completed=!1,this._processingActions=!1,this._delayedActions=[],this._completedObjects=[],this._stylesRegistered={},this._asyncInvoker=x.core.safeCall(this,[],function(t){log("async action failed:",t,t.stack)}),this.backend=x._backend(),this._init()},Wt=Ft.prototype=Object.create(Nt);Wt.constructor=Ft,Wt.componentName="core.Context",o.addProperty(Wt,"int","scrollY"),o.addProperty(Wt,"int","keyProcessDelay"),o.addProperty(Wt,"bool","fullscreen"),o.addProperty(Wt,"string","language"),o.addProperty(Wt,"System","system"),o.addProperty(Wt,"Location","location"),o.addProperty(Wt,"Stylesheet","stylesheet"),o.addProperty(Wt,"string","buildIdentifier","Powered by PureQML No-Partnership Edition Engine"),Wt._processActions=function(){if(this._started&&!this._processingActions){this._processingActions=!0;for(var t=this._asyncInvoker;this._delayedActions.length||this._completedObjects.length;){var e=this._delayedActions;this._delayedActions=[];for(var i=0,r=e.length;i<r;++i)t(e[i]);var o=this._completedObjects;this._completedObjects=[];for(i=0,r=o.length;i<r;++i){var n=o[i];try{n.__complete()}catch(t){log("onCompleted failed",t,t.stack)}}}this._processingActions=!1,this.backend.tick(this)}},Wt._init=function(){log("Context: initializing..."),new this.backend.init(this)},Wt._run=function(){log("Context: signalling layout"),this.visibleInView=!0,this.newBoundingBox(),log("Context: calling completed()"),this._started=!0,this._processActions(),this._completed=!0},Wt.init=function(){this.__init(),this.backend.initSystem(this.system)},Wt.run=function(){this.backend.run(this,this._run.bind(this))},Wt.scheduleComplete=function(){this._get("context",!0);this.delayedAction("context:completed",this,this._processActions)},Wt.scheduleAction=function(t){this._delayedActions.push(t)},Wt.wrapNativeCallback=function(e){var i=this;return function(){try{var t=e.apply(this,arguments);return i._processActions(),t}catch(t){throw i._processActions(),t}}},Wt.processKey=function(t){for(var e=o.forEach(this,x.core.Item.prototype._enqueueNextChildInFocusChain,[]),i=e.length,r=0;r<i;++r){if(e[r]._processKey(t))return!0}return!1},Wt.start=function(t){return this.children.push(t),t.__init(),log("Context: created instance"),t},Wt.registerStyle=function(t,e,i){var r=(i=this.mangleClass(i))?e+"."+i:e;r in this._stylesRegistered||(t.registerStyle(this.stylesheet,r),this._stylesRegistered[r]=!0)},Wt.mangleClass=function(t){return $manifest$html5$prefix+t},Wt.delayedAction=function(t,e,i,r){if(e._registerDelayedAction(t)){var o=function(){e._cancelDelayedAction(t),i.call(e)};0<r?setTimeout(o,r):0===r?this.backend.requestAnimationFrame(o):this.scheduleAction(o)}},Wt.__onCompleted=function(t){this._completedObjects.push(t)},Wt.createElement=function(t,e){return this.backend.createElement(this,t,e)},Wt.qsTr=function(t){var i=arguments,e=this.language,r=(this.l10n[e]||{})[t]||{};for(var o in r){t=r[o];break}return t.replace(/%(\d+)/,function(t,e){return i[e]})},x.core._protoOnChanged(Wt,"fullscreen",function(t){t?this.backend.enterFullscreenMode(this.element):this.backend.exitFullscreenMode()}),Wt.$c=function(t){var e=this;Nt.$c.call(this,t.$b={});var i=new x.html5.Stylesheet(e);(t._this$stylesheet=i).$c(t.$c$_this$stylesheet={}),e.stylesheet=i;var r=new x.core.System(e);(t._this$system=r).$c(t.$c$_this$system={}),e.system=r;var o=new x.core.Location(e);(t._this$location=o).$c(t.$c$_this$location={}),e.location=o},Wt.$s=function(t){Nt.$s.call(this,t.$b),delete t.$b;var e=t._this$stylesheet;e.$s(t.$c$_this$stylesheet),delete t.$c$_this$stylesheet,e.completed();var i=t._this$system;i.$s(t.$c$_this$system),delete t.$c$_this$system,i.completed(),this._removeUpdater("visibleInView"),this.visibleInView=!1;var r=t._this$location;r.$s(t.$c$_this$location),delete t.$c$_this$location,r.completed(),this.completed()};var Dt=x.core.Item,Vt=Dt.prototype,qt=x.core.Text=function(t,e){Dt.apply(this,arguments),this._context.backend.initText(this),0<this.text.length&&this._setText(this.text)},Yt=qt.prototype=Object.create(Vt);Yt.constructor=qt,Yt.componentName="core.Text",o.addProperty(Yt,"string","text"),o.addProperty(Yt,"color","color"),o.addLazyProperty(Yt,"shadow",function(t,e){var i,r={lazy$shadow:i=new x.core.Shadow(t,e)};return i.$c(r.$c$lazy$shadow={}),(i=r.lazy$shadow).$s(r.$c$lazy$shadow),delete r.$c$lazy$shadow,i.completed(),i}),o.addLazyProperty(Yt,"font",function(t,e){var i,r={lazy$font:i=new x.core.Font(t,e)};return i.$c(r.$c$lazy$font={}),(i=r.lazy$font).$s(r.$c$lazy$font),delete r.$c$lazy$font,i.completed(),i}),o.addProperty(Yt,"int","paintedWidth"),o.addProperty(Yt,"int","paintedHeight"),Yt.AlignTop=0,qt.AlignTop=0,Yt.AlignBottom=1,qt.AlignBottom=1,Yt.AlignVCenter=2,qt.AlignVCenter=2,o.addProperty(Yt,"enum","verticalAlignment"),Yt.Html=0,qt.Html=0,Yt.Text=1,qt.Text=1,o.addProperty(Yt,"enum","textFormat"),Yt.AlignLeft=0,qt.AlignLeft=0,Yt.AlignRight=1,qt.AlignRight=1,Yt.AlignHCenter=2,qt.AlignHCenter=2,Yt.AlignJustify=3,qt.AlignJustify=3,o.addProperty(Yt,"enum","horizontalAlignment"),Yt.NoWrap=0,qt.NoWrap=0,Yt.WordWrap=1,qt.WordWrap=1,Yt.WrapAnywhere=2,qt.WrapAnywhere=2,Yt.Wrap=3,qt.Wrap=3,o.addProperty(Yt,"enum","wrapMode"),Yt._updateSize=function(){this.recursiveVisible&&(this._updateSizeNeeded||this.clip)&&this._scheduleUpdateSize()},Yt._updateStyle=function(){this.shadow&&!this.shadow._empty()?this.style("text-shadow",this.shadow._getFilterStyle()):this.style("text-shadow",""),x.core.Item.prototype._updateStyle.apply(this,arguments)},Yt._updateSizeImpl=function(){if(0===this.text.length)return this.paintedWidth=0,void(this.paintedHeight=0);this._context.backend.layoutText(this)},Yt._scheduleUpdateSize=function(){this._context.delayedAction("text:update-size",this,this._updateSizeImpl)},Yt._enableSizeUpdate=function(){this._updateSizeNeeded=!0,this._updateSize()},Yt._updateWSHandling=function(){var t=this.textFormat===this.Text;switch(this.wrapMode){case this.NoWrap:this.style({"white-space":t?"pre":"nowrap","word-break":""});break;case this.Wrap:case this.WordWrap:this.style({"white-space":t?"pre-wrap":"normal","word-break":""});break;case this.WrapAnywhere:this.style({"white-space":t?"pre-wrap":"normal","word-break":"break-all"})}this._updateSize()},Yt.getClass=function(){return"core-text"},Yt._setText=function(t){this._context.backend.setText(this,t)},Yt.on=function(t,e){this._updateSizeNeeded||"newBoundingBox"===t&&this._enableSizeUpdate(),x.core.Object.prototype.on.apply(this,arguments)},Yt.onChanged=function(t,e){if(!this._updateSizeNeeded)switch(t){case"right":case"width":case"bottom":case"height":case"verticalCenter":case"horizontalCenter":this._enableSizeUpdate()}x.core.Object.prototype.onChanged.apply(this,arguments)},Yt.registerStyle=function(t,e){t.addRule(e,"width: auto; height: auto;")},x.core._protoOnChanged(Yt,"recursiveVisible",function(t){t&&this._updateSize()}),x.core._protoOnChanged(Yt,"horizontalAlignment",function(t){switch(t){case this.AlignLeft:this.style("text-align","left");break;case this.AlignRight:this.style("text-align","right");break;case this.AlignHCenter:this.style("text-align","center");break;case this.AlignJustify:this.style("text-align","justify")}}),x.core._protoOnChanged(Yt,"verticalAlignment",function(t){switch(this._enableSizeUpdate(),t){case this.AlignTop:this.style("-pure-text-vertical-align","top");break;case this.AlignVCenter:this.style("-pure-text-vertical-align","middle");break;case this.AlignBottom:this.style("-pure-text-vertical-align","bottom")}});f=function(t){this._updateWSHandling()};x.core._protoOnChanged(Yt,"wrapMode",f),x.core._protoOnChanged(Yt,"textFormat",f),x.core._protoOnChanged(Yt,"text",function(t){this._setText(t),this._updateSize()}),x.core._protoOnChanged(Yt,"width",function(t){this._updateSize()}),x.core._protoOnChanged(Yt,"color",function(t){this.style("color",x.core.Color.normalize(t))}),Yt.$c=function(t){Vt.$c.call(this,t.$b={})},Yt.$s=function(t){var e=this;Vt.$s.call(this,t.$b),delete t.$b,e._replaceUpdater("width",function(){e.width=e.paintedWidth},[e,"paintedWidth"]),e._replaceUpdater("height",function(){e.height=e.paintedHeight},[e,"paintedHeight"]),e.completed()};var Xt=x.core.Object,Kt=Xt.prototype,Gt=x.core.Transform=function(t,e){Xt.apply(this,arguments),this._transforms={}},Zt=Gt.prototype=Object.create(Kt);Zt.constructor=Gt,Zt.componentName="core.Transform",o.addProperty(Zt,"int","perspective"),o.addProperty(Zt,"int","translateX"),o.addProperty(Zt,"int","translateY"),o.addProperty(Zt,"int","translateZ"),o.addProperty(Zt,"real","rotateX"),o.addProperty(Zt,"real","rotateY"),o.addProperty(Zt,"real","rotateZ"),o.addProperty(Zt,"real","rotate"),o.addProperty(Zt,"real","scaleX"),o.addProperty(Zt,"real","scaleY"),o.addProperty(Zt,"real","skewX"),o.addProperty(Zt,"real","skewY"),Zt._updateTransform=function(){var t="";for(var e in this._transforms)t+=e,t+="("+this._transforms[e]+") ";this.parent.style("transform",t)},x.core._protoOnChanged(Zt,"perspective",function(t){this._transforms.perspective=t+"px",this._updateTransform()}),x.core._protoOnChanged(Zt,"rotate",function(t){this._transforms.rotate=t+"deg",this._updateTransform()}),x.core._protoOnChanged(Zt,"rotateX",function(t){this._transforms.rotateX=t+"deg",this._updateTransform()}),x.core._protoOnChanged(Zt,"rotateY",function(t){this._transforms.rotateY=t+"deg",this._updateTransform()}),x.core._protoOnChanged(Zt,"rotateZ",function(t){this._transforms.rotateZ=t+"deg",this._updateTransform()}),x.core._protoOnChanged(Zt,"scaleX",function(t){this._transforms.scaleX=t,this._updateTransform()}),x.core._protoOnChanged(Zt,"scaleY",function(t){this._transforms.scaleY=t,this._updateTransform()}),x.core._protoOnChanged(Zt,"skewX",function(t){this._transforms.skewX=t+"deg",this._updateTransform()}),x.core._protoOnChanged(Zt,"skewY",function(t){this._transforms.skewY=t+"deg",this._updateTransform()}),x.core._protoOnChanged(Zt,"translateX",function(t){this._transforms.translateX=t+"px",this._updateTransform()}),x.core._protoOnChanged(Zt,"translateY",function(t){this._transforms.translateY=t+"px",this._updateTransform()}),x.core._protoOnChanged(Zt,"translateZ",function(t){this._transforms.translateZ=t+"px",this._updateTransform()}),Zt.$c=function(t){Kt.$c.call(this,t.$b={})},Zt.$s=function(t){Kt.$s.call(this,t.$b),delete t.$b,this.completed()};var Jt=x.core.Object,Qt=Jt.prototype,te=x.core.BorderSide=function(t,e){Jt.apply(this,arguments)},ee=te.prototype=Object.create(Qt);ee.constructor=te,ee.componentName="core.BorderSide",o.addProperty(ee,"string","name"),o.addProperty(ee,"int","width"),o.addProperty(ee,"color","color"),o.addProperty(ee,"int","style"),ee._updateStyle=function(){if(this.parent&&this.parent.parent&&this.name){var t;x.core.Border;switch(this.style){case x.core.Border.prototype.None:t="none";break;case x.core.Border.prototype.Hidden:t="hidden";break;case x.core.Border.prototype.Dotted:t="dotted";break;case x.core.Border.prototype.Dashed:t="dashed";break;case x.core.Border.prototype.Solid:t="solid";break;case x.core.Border.prototype.Double:t="double";break;case x.core.Border.prototype.Groove:t="groove";break;case x.core.Border.prototype.Ridge:t="ridge";break;case x.core.Border.prototype.Inset:t="inset";break;case x.core.Border.prototype.Outset:t="outset"}var e=this.width+"px "+t+" "+x.core.Color.normalize(this.color);this.parent.parent.style("border-"+this.name,e)}};f=function(t){this._updateStyle()};x.core._protoOnChanged(ee,"width",f),x.core._protoOnChanged(ee,"color",f),x.core._protoOnChanged(ee,"style",f),ee.$c=function(t){Qt.$c.call(this,t.$b={})},ee.$s=function(t){var e=this;Qt.$s.call(this,t.$b),delete t.$b,e._replaceUpdater("color",function(){e.color=e.parent.color},[e.parent,"color"]),e._replaceUpdater("width",function(){e.width=e.parent.width},[e.parent,"width"]),e._replaceUpdater("style",function(){e.style=e.parent.style},[e.parent,"style"]),e.completed()};var ie=x.core.Object,re=ie.prototype,oe=x.core.Location=function(t,e){ie.apply(this,arguments);var i=x.core.__locationBackend;if(!i)throw new Error("no backend found");this.impl=i().createLocation(this)},ne=oe.prototype=Object.create(re);ne.constructor=oe,ne.componentName="core.Location",o.addProperty(ne,"string","hash"),o.addProperty(ne,"string","host"),o.addProperty(ne,"string","href"),o.addProperty(ne,"string","port"),o.addProperty(ne,"string","origin"),o.addProperty(ne,"string","hostname"),o.addProperty(ne,"string","pathname"),o.addProperty(ne,"string","protocol"),o.addProperty(ne,"string","search"),o.addProperty(ne,"Object","state"),ne.changeHref=function(t){this.impl.changeHref(t)},ne.pushState=function(t,e,i){this.impl.pushState(t,e,i)},ne.$c=function(t){re.$c.call(this,t.$b={})},ne.$s=function(t){re.$s.call(this,t.$b),delete t.$b,this.completed()};var ae=x.core.Item,se=ae.prototype,ce=x.core.Image=function(t,e){ae.apply(this,arguments),this._context.backend.initImage(this),this._scheduleLoad()},le=ce.prototype=Object.create(se);le.constructor=ce,le.componentName="core.Image",o.addProperty(le,"int","paintedWidth"),o.addProperty(le,"int","paintedHeight"),o.addProperty(le,"int","sourceWidth"),o.addProperty(le,"int","sourceHeight"),o.addProperty(le,"string","source"),o.addProperty(le,"bool","smooth",!0),o.addProperty(le,"bool","preload",!1),le.Null=0,ce.Null=0,le.Ready=1,ce.Ready=1,le.Loading=2,ce.Loading=2,le.Error=3,ce.Error=3,o.addProperty(le,"enum","status"),le.Stretch=0,ce.Stretch=0,le.PreserveAspectFit=1,ce.PreserveAspectFit=1,le.PreserveAspectCrop=2,ce.PreserveAspectCrop=2,le.Tile=3,ce.Tile=3,le.TileVertically=4,ce.TileVertically=4,le.TileHorizontally=5,ce.TileHorizontally=5,le.Pad=6,ce.Pad=6,o.addProperty(le,"enum","fillMode"),le._scheduleLoad=function(){(this.preload||this.recursiveVisible)&&this._context.delayedAction("image.load",this,this._load)},le._load=function(){this.status!==this.Ready&&(this.preload||this.recursiveVisible)&&this.source&&(this.status=this.Loading,this._context.backend.loadImage(this))},le._onError=function(){this.status=this.Error},le.getClass=function(){return"core-image"};f=function(t){this._scheduleLoad()};x.core._protoOnChanged(le,"width",f),x.core._protoOnChanged(le,"preload",f),x.core._protoOnChanged(le,"height",f),x.core._protoOnChanged(le,"recursiveVisible",f),x.core._protoOnChanged(le,"fillMode",f),x.core._protoOnChanged(le,"source",function(t){this.status=this.Null,this._scheduleLoad()}),le.$c=function(t){se.$c.call(this,t.$b={})},le.$s=function(t){var e=this;se.$s.call(this,t.$b),delete t.$b,e._replaceUpdater("width",function(){e.width=e.sourceWidth},[e,"sourceWidth"]),e._replaceUpdater("height",function(){e.height=e.sourceHeight},[e,"sourceHeight"]),e.completed()};var de=x.core.Object,he=de.prototype,pe=x.core.Anchors=function(t,e){de.apply(this,arguments),this._items=[],this._grabX=!1,this._grabY=!1},ue=pe.prototype=Object.create(he);ue.constructor=pe,ue.componentName="core.Anchors",o.addProperty(ue,"AnchorLine","bottom"),o.addProperty(ue,"AnchorLine","verticalCenter"),o.addProperty(ue,"AnchorLine","top"),o.addProperty(ue,"AnchorLine","left"),o.addProperty(ue,"AnchorLine","horizontalCenter"),o.addProperty(ue,"AnchorLine","right"),o.addProperty(ue,"Item","fill"),o.addProperty(ue,"Item","centerIn"),o.addProperty(ue,"int","margins"),o.addProperty(ue,"int","bottomMargin"),o.addProperty(ue,"int","topMargin"),o.addProperty(ue,"int","leftMargin"),o.addProperty(ue,"int","rightMargin"),ue._scheduleUpdate=function(){this._context.delayedAction("update-anchors",this,this._updateAll)},ue._updateAll=function(){var t,e,i,r,o,n,a=this,s=a.parent,c=s.parent.toScreen(),l=c[0],d=c[1],h=a.fill,p=a._getAnchor("left")||(h?h.left:null),u=a._getAnchor("right")||(h?h.right:null),f=a._getAnchor("top")||(h?h.top:null),g=a._getAnchor("bottom")||(h?h.bottom:null),m=a.centerIn,_=a._getAnchor("horizontalCenter")||(m?m.horizontalCenter:null),y=a._getAnchor("verticalCenter")||(m?m.verticalCenter:null),v=a.leftMargin||a.margins,b=a.rightMargin||a.margins,$=a.topMargin||a.margins,w=a.bottomMargin||a.margins,x=[],C=[],k=function(t){var e,i=t[0],r=t[1],o=x.indexOf(i);return o<0?(e=i.toScreen(),x.push(i),C.push(e)):e=C[o],e[r]};p&&u?(t=k(p),i=k(u),s.x=t+v-l-s.viewX,s.width=i-t-b-v):p&&_?(t=k(p),o=k(_),s.x=t+v-l-s.viewX,s.width=2*(o-t)-b-v):_&&u?(o=k(_),i=k(u),s.width=2*(i-o)-b-v,s.x=o-(s.width+v-b)/2-l-s.viewX):p?(t=k(p),s.x=t+v-l-s.viewX):u?(i=k(u),s.x=i-l-b-s.width-s.viewX):_?(o=k(_),s.x=o-(s.width+v-b)/2-l-s.viewX):this._grabX&&(s.x=v),f&&g?(e=k(f),r=k(g),s.y=e+$-d-s.viewY,s.height=r-e-w-$):f&&y?(e=k(f),n=k(y),s.y=e+$-d-s.viewY,s.height=2*(n-e)-w-$):y&&g?(n=k(y),r=k(g),s.height=2*(r-n)-w-$,s.y=n-(s.height+$-w)/2-d-s.viewY):f?(e=k(f),s.y=e+$-d-s.viewY):g?(r=k(g),s.y=r-d-w-s.height-s.viewY):y?(n=k(y),s.y=n-(s.height+$-w)/2-d-s.viewY):this._grabY&&(s.y=$)},ue._grab=function(t,e){"x"===e&&(this._grabX=!0),"y"===e&&(this._grabY=!0),t._removeUpdater(e)},ue._getAnchor=function(t){var e=this[t];return e?Array.isArray(e)?e:e[t]:null},ue._subscribe=function(t){var e=this._items;e.indexOf(t)<0&&(e.push(t),this.connectOn(t,"newBoundingBox",this._scheduleUpdate.bind(this)))},x.core._protoOnChanged(ue,"fill",function(t){if(this._scheduleUpdate(),null!==t){var e=this.parent;this._grab(e,"x"),this._grab(e,"width"),this._grab(e,"y"),this._grab(e,"height"),this._subscribe(t)}}),x.core._protoOnChanged(ue,"centerIn",function(t){if(this._scheduleUpdate(),null!==t){var e=this.parent;this._grab(e,"x"),this._grab(e,"y"),this._subscribe(t),this._subscribe(e)}}),x.core._protoOnChanged(ue,"bottom",function(t){this._scheduleUpdate();var e=this._getAnchor("bottom");if(null!==e){var i=this.parent;this._grab(i,"y"),(this.top||this.verticalCenter)&&this._grab(i,"height"),this._subscribe(i),this._subscribe(e[0])}}),x.core._protoOnChanged(ue,"horizontalCenter",function(t){this._scheduleUpdate();var e=this._getAnchor("horizontalCenter");if(null!==e){var i=this.parent;this._grab(i,"x"),(this.left||this.right)&&this._grab(i,"width"),this._subscribe(i),this._subscribe(e[0])}}),x.core._protoOnChanged(ue,"left",function(t){this._scheduleUpdate();var e=this._getAnchor("left");if(null!==e){var i=this.parent;this._grab(i,"x"),(this.right||this.horizontalCenter)&&(this._grab(i,"width"),this._subscribe(i)),this._subscribe(e[0])}}),x.core._protoOnChanged(ue,"right",function(t){this._scheduleUpdate();var e=this._getAnchor("right");if(null!==e){var i=this.parent;this._grab(i,"x"),(this.left||this.horizontalCenter)&&this._grab(i,"width"),this._subscribe(i),this._subscribe(e[0])}}),x.core._protoOnChanged(ue,"top",function(t){this._scheduleUpdate();var e=this._getAnchor("top");if(null!==e){var i=this.parent;this._grab(i,"y"),(this.bottom||this.verticalCenter)&&(this._grab(i,"height"),this._subscribe(i)),this._subscribe(e[0])}}),x.core._protoOnChanged(ue,"verticalCenter",function(t){this._scheduleUpdate();var e=this._getAnchor("verticalCenter");if(null!==e){var i=this.parent;this._grab(i,"y"),(this.top||this.bottom)&&this._grab(i,"height"),this._subscribe(i),this._subscribe(e[0])}});f=function(t){this.parent.anchorsMarginsUpdated(),this._scheduleUpdate()};x.core._protoOnChanged(ue,"bottomMargin",f),x.core._protoOnChanged(ue,"leftMargin",f),x.core._protoOnChanged(ue,"topMargin",f),x.core._protoOnChanged(ue,"rightMargin",f),x.core._protoOnChanged(ue,"margin",f),ue.$c=function(t){he.$c.call(this,t.$b={})},ue.$s=function(t){he.$s.call(this,t.$b),delete t.$b,this.completed()};var fe=x.core.EventEmitter,ge=fe.prototype,me=x.core.RAIIEventEmitter=function(t,e){fe.apply(this,arguments),this._onListener={}},_e=me.prototype=Object.create(ge);_e.constructor=me,_e.componentName="core.RAIIEventEmitter",_e.removeAllListeners=function(t){x.core.EventEmitter.prototype.removeAllListeners.call(this,t),t in this._onListener?this._onListener[t][1](t):""in this._onListener&&this._onListener[""][1](t)},_e.on=function(t,e){if(!(t in this._eventHandlers)&&(t in this._onListener?this._onListener[t][0](t):""in this._onListener&&this._onListener[""][0](t),this._eventHandlers[t]))throw new Error("listener callback added event handler");x.core.EventEmitter.prototype.on.call(this,t,e)},_e.onListener=function(t,e,i){this._onListener[t]=[e,i]},_e.$c=function(t){ge.$c.call(this,t.$b={})},_e.$s=function(t){ge.$s.call(this,t.$b),delete t.$b,this.completed()};var ye=x.controls.core.Request,ve=ye.prototype,be=x.src.IssRequest=function(t,e){ye.apply(this,arguments)},$e=be.prototype=Object.create(ve);$e.constructor=be,$e.componentName="src.IssRequest",$e.call=function(t){this.ajax({url:"https://api.wheretheiss.at/v1/satellites/25544",done:t})},$e.$c=function(t){ve.$c.call(this,t.$b={})},$e.$s=function(t){ve.$s.call(this,t.$b),delete t.$b,this.completed()};var we,xe,Ce,ke,Ae,Oe,Pe,Se,ze=x.core.Object,Ee=ze.prototype,Ie=x.html5.Stylesheet=function(t,e){ze.apply(this,arguments);var i=this._context,r=i.options,o=this.style=i.createElement("style");o.dom.type="text/css",this.prefix=r.prefix;var n=r.id,a=null===document.getElementById(i,n),s=window.Modernizr.prefixedCSS("user-select")+": none; ",c=x.core.os,l="android"===c||"androidttk"===c||"hisense"===c;o.setHtml("div#"+n+" { position: absolute; visibility: hidden; left: 0px; top: 0px; }"+("webOS"===c||l?this.mangleRule("div","{ "+s+" }"):"")+(l?this.mangleRule("div","{ -webkit-tap-highlight-color: rgba(255, 255, 255, 0); -webkit-focus-ring-color: rgba(255, 255, 255, 0); outline: none; }"):"")+(a?"body { padding: 0; margin: 0; border: 0px; overflow: hidden; }":"")+this.mangleRule("video","{ position: absolute; }")+this.mangleRule("img","{ position: absolute; -webkit-touch-callout: none; "+s+" }"));var d=x.html5.html.getElement(i,"head");d.append(o),d.updateStyle(),this._addRule=x.html5.html.createAddRule(o.dom).bind(this),this._lastId=0},Te=Ie.prototype=Object.create(Ee);return Te.constructor=Ie,Te.componentName="html5.Stylesheet",Te.allocateClass=function(t){var e=this.prefix;return(e||"")+t+"-"+this._lastId++},Te.mangleSelector=function(t){var e=this.prefix;return e?t+"."+e+"core-item":t},Te.mangleRule=function(t,e){return this.mangleSelector(t)+" "+e+" "},Te.addRule=function(t,e){this._addRule(t,e)},Te.$c=function(t){Ee.$c.call(this,t.$b={})},Te.$s=function(t){Ee.$s.call(this,t.$b),delete t.$b,this.completed()},x.core.model=function(){var t={},l=function(t,e){this.type=t,this.length=e};t.ModelUpdate=function(){this.count=0,this._reset()},t.ModelUpdate.prototype.constructor=t.ModelUpdate,t.ModelUpdate.prototype._reset=function(){this._ranges=[new l(0,this.count)],this._updateIndex=this.count},t.ModelUpdate.prototype._setUpdateIndex=function(t){t<this._updateIndex&&(this._updateIndex=t)},t.ModelUpdate.prototype._find=function(t){var e,i=this._ranges;for(e=0;e<i.length;++e){var r=i[e];if(t<r.length)return{index:e,offset:t};0<r.length&&(t-=r.length)}if(0!=t)throw new Error("invalid index "+t);return{index:e-1,offset:r.length}},t.ModelUpdate.prototype.reset=function(t){this.update(t,0,Math.min(t.count,this.count)),this.count<t.count?this.insert(t,this.count,t.count):this.remove(t,t.count,this.count)},t.ModelUpdate.prototype._merge=function(){for(var t=this._ranges,e=1;e<t.length;){var i=t[e-1],r=t[e];if(i.type===r.type)if(1===i.type&&i.length<0&&0<r.length){var o=Math.min(-i.length,r.length);i.type=2,r.length+=i.length,i.length=o,1<e&&--e}else i.length+=r.length,t.splice(e,1);else 1===i.type&&0===i.length?t.splice(e,1):++e}},t.ModelUpdate.prototype._split=function(t,e,i,r){var o=this._ranges;if(0===e)return o.splice(t,0,new l(i,r)),t+1;var n=o[t],a=n.length-e;return n.length=e,0!=a?o.splice(t+1,0,new l(i,r),new l(n.type,a)):o.splice(t+1,0,new l(i,r)),t+2},t.ModelUpdate.prototype.insert=function(t,e,i){if(!(i<=e)){this._setUpdateIndex(e);var r=this._ranges,o=i-e;if(this.count+=o,this.count!=t.count)throw new Error("unbalanced insert "+this.count+" + ["+e+"-"+i+"], model reported "+t.count);var n=this._find(e),a=r[n.index];0===a.length?(a.type=1,a.length+=o):0<=n.offset?this._split(n.index,n.offset,1,o):this._split(n.index+1,0,1,o),this._merge()}},t.ModelUpdate.prototype.remove=function(t,e,i){if(!(i<=e)){this._setUpdateIndex(e);var r=this._ranges,o=i-e;if(this.count-=o,this.count!=t.count)throw new Error("unbalanced remove "+this.count+" + ["+e+"-"+i+"], model reported "+t.count);var n=this._find(e);if(1===(s=r[n.index]).type)s.length-=o;else for(var a=this._split(n.index,n.offset,1,-o);0<o;){var s;(s=r[a]).length<=o?(r.splice(a,1),o-=s.length):(s.length-=o,o=0)}this._merge()}},t.ModelUpdate.prototype.update=function(t,e,i){if(!(i<=e)){var r=this._ranges,o=i-e,n=this._find(e),a=n.index,s=r[a];if(0<n.offset&&(r.splice(a+1,0,new l(s.type,s.length-n.offset)),s.length=n.offset,++a,0===s.length))throw new Error("invalid offset");for(;0<o;){var c=(s=r[a]).length;switch(s.type){case 0:o<c?(s.length-=o,r.splice(a,0,new l(2,o))):s.type=2,o-=c;break;case 1:0<c&&(o-=c),++a;break;case 2:o-=c,++a}}this._merge()}},t.ModelUpdate.prototype.clear=function(){this.count=0,this._reset()},t.ModelUpdate.prototype.apply=function(i,t){var r=0;if(this._ranges.forEach(function(t){var e=t.length;switch(t.type){case 1:0<e?(i._insertItems(r,r+e),r+=e):e<0&&i._removeItems(r,r-e);break;case 2:i._updateItems(r,r+e),r+=e;break;default:r+=t.length}}),!t&&i._items.length!=this.count)throw new Error("unbalanced items update, view: "+i._items.length+", update:"+this.count);for(var e=this._updateIndex;e<this.count;++e)i._updateDelegateIndex(e);this._reset()};var e=t.ArrayModelWrapper=function(t){this.data=t,this.count=t.length};return e.prototype.get=function(t){return{value:this.data[t]}},e.prototype.on=function(){},e.prototype.removeListener=function(){},t}(),x.html5.localstorage=(we={},(xe=function(t){if(t&&t.name,this._storage=window.localStorage,!this._storage)throw new Error("no local storage support")}).prototype.get=function(t,e,i){var r=this._storage.getItem(t);null!==r?e(r):i(new Error("no item with name "+t))},xe.prototype.set=function(t,e){this._storage.setItem(t,e)},xe.prototype.erase=function(t,e){this._storage.removeItem(t)},we.createLocalStorage=function(t){return new xe(t)},we.LocalStorage=xe,we),x.html5.html=function(){var g={},p=window.Modernizr;g.capabilities={csstransforms3d:p.csstransforms3d,csstransforms:p.csstransforms,csstransitions:p.csstransitions,mouseEnterLeaveSupported:"netcast"!=x.core.os};var u=null;g.createAddRule=function(t){if((t.sheet||{}).insertRule){r=t.sheet;return function(e,i){try{r.insertRule(e+"{"+i+"}",r.cssRules.length)}catch(t){log("InsertRule failed:",t,", sheet:",r,", name:",e,", rules:",i)}}}var r=t.styleSheet||t.sheet;return function(e,i){try{r.addRule(e,i)}catch(t){log("AddRule failed:",t,", sheet:",r,", name:",e,", rules:",i)}}};var f=function(){this._cache={}},t=f.prototype;t.constructor=f,t.update=function(t,e,i){var r=this._cache,o=t._uniqueId,n=r[o];if(void 0!==n)n.data[e]=i,++n.size;else{var a={};a[e]=i,r[o]={data:a,element:t,size:1}}},t.pop=function(t){var e=t._uniqueId,i=this._cache[e];if(void 0!==i)return delete this._cache[e],i},t.apply=function(){var t=this._cache;for(var e in this._cache={},t){var i=t[e];i.element.updateStyle(i)}};var m=function(t){var e=document.createElement("style");e.type="text/css",document.head.appendChild(e),this.prefix=t+"C-",this.style=e,this.total=0,this.stats={},this.classes={},this.classes_total=0,this._addRule=g.createAddRule(e)},e=m.prototype;e.constructor=m,e.add=function(t){this.stats[t]=(this.stats[t]||0)+1,++this.total},e.register=function(t){var e=t.join(";"),i=this.classes,r=i[e];return void 0!==r||(r=i[e]=this.prefix+this.classes_total++,this._addRule("."+r,e)),r},e.classify=function(i){var r=this.total;if(r<10)return"";i.sort();var o=[],n=[],a=this.stats;return i.forEach(function(t,e){.05<a[t]/r&&(o.push(t),n.push(e))}),n.length<2?"":(n.forEach(function(t,e){i.splice(t-e,1)}),this.register(o))};var i={};0<=x.core.userAgent.toLowerCase().indexOf("webkit")&&(i.appearance="-webkit-appearance");var h=function(t){var e=i[t];return void 0===e&&(i[t]=e=window.Modernizr.prefixedCSS(t)),e};g.getPrefixedName=h;var n=["touchstart","touchend","wheel","scroll"],a=!!p.passiveeventlisteners&&{passive:!0},s=function(r){var o=r.__domEventListeners;void 0===o&&(o=r.__domEventListeners={}),r.onListener("",function(t){var e=o[t]=r._context.wrapNativeCallback(function(){r.emitWithArgs(t,arguments)}),i=[t,e];0<=n.indexOf(t)&&i.push(a),r.dom.addEventListener.apply(r.dom,i)},function(t){r.dom.removeEventListener(t,o[t])})},r={};g.loadExternalStylesheet=function(t){if(!r[t]){var e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("href",t),document.head.appendChild(e),r[t]=!0}};var c=0,l={};function d(t){return $manifest$html5$prefix+t}g.Element=function(t,e,i){if("string"==typeof e){void 0===i&&(i="");var r=e+"."+i;if(!l[r]){var o=document.createElement(e);($manifest$html5$prefix||i)&&o.classList.add(d(i)),$manifest$html5$prefix&&i&&o.classList.add(d("")),l[r]=o}this.dom=l[r].cloneNode(!1)}else this.dom=e;x.core.RAIIEventEmitter.apply(this),this._context=t,this._transitions={},this._class="",this._widthAdjust=0,this._uniqueId=String(++c),this._firstChildIndex=0,s(this)};var o=g.Element.prototype=Object.create(x.core.RAIIEventEmitter.prototype);o.constructor=g.Element,o.addClass=function(t){this.dom.classList.add(t)},o.appendChildren=function(t){if(0<t.length){var e=document.createDocumentFragment();t.forEach(function(t){e.appendChild(t)}),this.dom.appendChild(e)}},o.removeChildren=function(t){var r=[],o=this.dom;return t.children.forEach(function(t){var e=t.element;if(void 0!==e){var i=e.dom;i.parentNode===o&&(o.removeChild(i),r.push(i))}}),r},o.setHtml=function(t,e){this._widthAdjust=0;var i,r=this.dom;i=void 0!==e?this.removeChildren(e):[],r.innerHTML=t,this.appendChildren(i)},o.width=function(){return this.updateStyle(),this.dom.clientWidth-this._widthAdjust},o.height=function(){return this.updateStyle(),this.dom.clientHeight},o.fullWidth=function(){return this.updateStyle(),this.dom.scrollWidth-this._widthAdjust},o.fullHeight=function(){return this.updateStyle(),this.dom.scrollHeight},o.style=function(t,e){var i=this._context._styleCache;if(void 0!==e)i.update(this,t,e);else{if("object"!=typeof t)throw new Error("cache is write-only");for(var r in t)i.update(this,r,t[r])}},o.setAttribute=function(t,e){this.dom.setAttribute(t,e)};var _={left:"px",top:"px",width:"px",height:"px","border-radius":"px","border-width":"px","margin-left":"px","margin-top":"px","margin-right":"px","margin-bottom":"px","padding-left":"px","padding-top":"px","padding-right":"px","padding-bottom":"px",padding:"px"};o.forceLayout=function(){return this.updateStyle(),this.dom.offsetWidth|this.dom.offsetHeight},o.updateStyle=function(t){var e=this.dom;if(e&&(void 0!==t||void 0!==(t=this._context._styleCache.pop(this)))){var i=t.data;for(var r in i){var o=i[r],n=h(r),a=!1!==n?n:r;Array.isArray(o)&&(o=o.join(","));var s="";"number"==typeof o&&(r in _&&(s=_[r]),"width"===r&&(o+=this._widthAdjust)),o+=s,e.style[a]=o}var c=this._context._styleClassifier,l=c?c.classify([]):"";if(l!==this._class){var d=e.classList;""!==this._class&&d.remove(this._class),""!==(this._class=l)&&d.add(l)}}},o.append=function(t){this.dom.appendChild(t instanceof g.Element?t.dom:t)},o.discard=function(){x.core.RAIIEventEmitter.prototype.discard.apply(this),this.remove()},o.remove=function(){var t=this.dom;t.parentNode&&t.parentNode.removeChild(t)},g.Document=function(t,e){x.core.RAIIEventEmitter.apply(this),this._context=t,this.dom=e,s(this)},(g.Document.prototype=Object.create(x.core.RAIIEventEmitter.prototype)).constructor=g.Document,g.Window=function(t,e){x.core.RAIIEventEmitter.apply(this),this._context=t,this.dom=e,s(this)};var y=g.Window.prototype=Object.create(x.core.RAIIEventEmitter.prototype);y.constructor=g.Window,y.width=function(){return this.dom.innerWidth},y.height=function(){return this.dom.innerHeight},y.scrollY=function(){return this.dom.scrollY},g.getElement=function(t,e){var i=document.getElementsByTagName(e);if(1!=i.length)throw new Error("no tag "+e+"/multiple tags");return new g.Element(t,i[0])},g.init=function(i){u=new x.html5.cache.Cache(b),i._styleCache=new f;var t=i.options,e=i._prefix,r=t.id,o=t.tag||"div";e&&log("Context: using prefix",e+="-");var n=new x.html5.html.Document(i,document);i.document=n;var a,s,c=new x.html5.html.Window(i,window);i.window=c;var l=g,d=document.getElementById(r);null===d?(a=c.width(),s=c.height(),log("Context: window size: "+a+"x"+s),(d=l.createElement(i,o)).dom.id=r,c.on("resize",function(){i.width=c.width(),i.height=c.height()}),l.getElement(i,"body").append(d)):(a=(d=new l.Element(i,d)).width(),s=d.height(),log("Context: found element by id, size: "+a+"x"+s),c.on("resize",function(){i.width=d.width(),i.height=d.height()}));p.canvastext?(i._textCanvas=l.createElement(i,"canvas"),i._textCanvas.style("width",0),i._textCanvas.style("height",0),d.append(i._textCanvas),i._textCanvasContext="getContext"in i._textCanvas.dom?i._textCanvas.dom.getContext("2d"):null):i._textCanvasContext=null,i.element=d,i.width=a,i.height=s,c.on("scroll",function(t){i.scrollY=c.scrollY()});var h=function(t){var e=document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen;i.fullscreen=e};new Array("webkitfullscreenchange","mozfullscreenchange","fullscreenchange").forEach(function(t){d.on(t,h)}),c.on("keydown",function(t){i.processKey(t)&&t.preventDefault()}),i._styleClassifier=$manifest$cssAutoClassificator?new m(i._prefix):null},g.initSystem=function(t){var e=t._context.window;e.on("focus",function(){t.pageActive=!0}),e.on("blur",function(){t.pageActive=!1}),t.screenWidth=window.screen.width,t.screenHeight=window.screen.height},g.createElement=function(t,e,i){return new g.Element(t,e,i)},g.initRectangle=function(t){};var v=x.core.Image,b=function(t,e){var i=new Image;i.onerror=function(){i.onload=null,i.onerror=null,e(null)},i.onload=function(){i.onload=null,i.onerror=null,e({width:i.naturalWidth,height:i.naturalHeight})},i.src=t};g.initImage=function(t){},g.loadImage=function(e){var t=function(t){!function(t,e){if(e){var i={"background-image":'url("'+t.source+'")'},r=e.width,o=e.height;switch(t.sourceWidth=r,t.sourceHeight=o,t.fillMode!==v.PreserveAspectFit&&(t.paintedWidth=t.width,t.paintedHeight=t.height),t.fillMode){case v.Stretch:i["background-repeat"]="no-repeat",i["background-size"]="100% 100%";break;case v.TileVertically:i["background-repeat"]="repeat-y",i["background-size"]="100% "+o+"px";break;case v.TileHorizontally:i["background-repeat"]="repeat-x",i["background-size"]=r+"px 100%";break;case v.Tile:i["background-repeat"]="repeat-y repeat-x",i["background-size"]="auto";break;case v.PreserveAspectCrop:i["background-repeat"]="no-repeat",i["background-position"]="center",i["background-size"]="cover";break;case v.Pad:i["background-repeat"]="no-repeat",i["background-position"]="0% 0%",i["background-size"]="auto";break;case v.PreserveAspectFit:i["background-repeat"]="no-repeat",i["background-position"]="center",i["background-size"]="contain";var n=t.width,a=t.height,s=0,c=r/o;n&&a&&(s=n/a),s<c&&n?(t.paintedWidth=n,t.paintedHeight=n/c):(t.paintedHeight=a,t.paintedWidth=a*c)}i["image-rendering"]=t.smooth?"auto":"pixelated",t.style(i),t.status=v.Ready,t._context._processActions()}else t.status=v.Error}(e,t)};e.source.indexOf("?")<0?u.get(e.source,t):b(e.source,t)},g.initText=function(t){};var $=function(t,e){switch(t.verticalAlignment){case t.AlignTop:t._topPadding=0;break;case t.AlignBottom:t._topPadding=t.height-t.paintedHeight;break;case t.AlignVCenter:t._topPadding=(t.height-t.paintedHeight)/2}e["padding-top"]=t._topPadding,e.height=t.height-t._topPadding,t.style(e)};g.setText=function(t,e){t.element.setHtml(e,t)},g.layoutText=function(t){var e=t._context._textCanvasContext,i=t.wrapMode!==x.core.Text.NoWrap,r=t.element,o=(r.dom,t.textFormat===t.Html||0<=t.text.search(/[\<\&]/));if(!i&&null!==e&&!o){var n,a=t.font;n=a.pointSize?Math.round(96*a.pointSize/72):a.pixelSize,e.font=n+"px "+a.family;var s=e.measureText(t.text);return t.paintedWidth=s.width,t.paintedHeight=n*a.lineHeight,void $(t,{})}var c,l=r.removeChildren(t);i?t.style({height:"auto","padding-top":0}):t.style({width:"auto",height:"auto","padding-top":0}),t.paintedWidth=r.fullWidth(),t.paintedHeight=r.fullHeight(),r._widthAdjust=1,c=i?{height:t.height}:{width:t.width,height:t.height},$(t,c),r.appendChildren(l)},g.run=function(t,e){t.window.on($manifest$expectRunContextEvent?"runContext":"load",function(){e()})},g.tick=function(t){t._styleCache.apply()};var w={width:"width",height:"height",x:"left",y:"top",viewX:"left",viewY:"top",opacity:"opacity",border:"border",radius:"border-radius",rotate:"transform",boxshadow:"box-shadow",transform:"transform",visible:"visibility",visibleInView:"visibility",background:"background",color:"color",backgroundImage:"background-image",font:"font"};return g.setAnimation=function(t,e,i){if(!g.capabilities.csstransitions||$manifest$cssDisableTransitions||i&&!i.cssTransition)return!1;var r=w[e];return void 0!==r&&function(t,e,i){var r=g,o=r.getPrefixedName("transition-property"),n=r.getPrefixedName("transition-delay"),a=r.getPrefixedName("transition-duration"),s=r.getPrefixedName("transition-timing-function"),c=t.element;c.forceLayout(),e=r.getPrefixedName(e)||e;var l=c._transitions,d=l[o]||[],h=l[a]||[],p=l[s]||[],u=l[n]||[],f=d.indexOf(e);return-1===f?i&&(d.push(e),h.push(i.duration+"ms"),p.push(i.easing),u.push(i.delay+"ms")):i&&i.active()?(h[f]=i.duration+"ms",p[f]=i.easing,u[f]=i.delay+"ms"):(d.splice(f,1),h.splice(f,1),p.splice(f,1),u.splice(f,1)),l[o]=d,l[a]=h,l[s]=p,l[n]=u,"orsay"!==t._context.system.os&&"netcast"!==t._context.system.os||(l["transition-property"]=d,l["transition-duration"]=h,l["transition-delay"]=u,l["transition-timing-function"]=p),t.style(l),!0}(t,r,i)},g.requestAnimationFrame=p.prefixed("requestAnimationFrame",window)||function(t){return setTimeout(t,0)},g.cancelAnimationFrame=p.prefixed("cancelAnimationFrame",window)||function(t){return clearTimeout(t)},g.enterFullscreenMode=function(t){return p.prefixed("requestFullscreen",t.dom)()},g.exitFullscreenMode=function(){return window.Modernizr.prefixed("exitFullscreen",document)()},g.inFullscreenMode=function(){return!!window.Modernizr.prefixed("fullscreenElement",document)},g}(),x.html5.cache=function(){var t={},r=function(){return Math.floor((new Date).getTime()/1e3)},o=function(){this.created=r(),this.waiters=[],this.invoker=null};o.prototype.expired=function(t){return r()-this.created>=t},o.prototype.set=function(t){this.created=r();for(var e=this.invoker=x.core.safeCall(null,[t],function(t){log("cache entry callback failed: ",t,t.stack)});this.waiters.length;){var i=this.waiters;this.waiters=[],i.forEach(e)}this.waiters=null},o.prototype.wait=function(t){null!==this.invoker?this.invoker(t):this.waiters.push(t)};var e=function(t,e){if(!t)throw new Error("create callback is required");this._create=t,this._ttl=e||3600,this._cache={},setInterval(this.cleanup.bind(this),this._ttl/2*1e3)};return e.prototype.get=function(t,e){var i=this._cache[t];(void 0===i||i.expired(this._ttl))&&(this._cache[t]=i=new o,this._create(t,function(t){i.set(t)})),i.wait(e)},e.prototype.cleanup=function(){for(var t in this._cache){this._cache[t].expired(this._ttl)&&delete this._cache[t]}},t.Cache=e,t}(),x.html5.location=(Ce={},(ke=function(t){this._ui=t;var e=window.location;this.updateActualValues();var i=this,r=t._context;r.window.on("hashchange",function(){i._ui.hash=e.hash}.bind(this)),r.window.on("popstate",function(){i.updateActualValues()}.bind(this))}).prototype.updateActualValues=function(){var t=this._ui,e=t._context.window.dom;t.hash=e.location.hash,t.href=e.location.href,t.port=e.location.port,t.host=e.location.host,t.origin=e.location.origin,t.hostname=e.location.hostname,t.pathname=e.location.pathname,t.protocol=e.location.protocol,t.search=e.location.search,t.state=e.history.state},ke.prototype.changeHref=function(t){this._ui._context.window.dom.location.href=t,this.updateActualValues()},ke.prototype.pushState=function(t,e,i){var r=this._ui,o=r._context.window.dom;o.location.hostname?(o.history.pushState(t,e,i),this.updateActualValues()):(r._context.document.title=e,this._ui.state=t)},Ce.createLocation=function(t){return new ke(t)},Ce.Location=ke,Ce),x.video.html5.backend=(Ae={},(Oe=function(e){var t=e._context.createElement("video");t.dom.preload="metadata";var i=t.dom;t.on("play",function(){e.waiting=!1,e.paused=i.paused}.bind(e)),t.on("pause",function(){e.paused=i.paused}.bind(e)),t.on("ended",function(){e.finished()}.bind(e)),t.on("seeked",function(){log("seeked"),e.seeking=!1,e.waiting=!1}.bind(e)),t.on("canplay",function(){log("canplay",i.readyState),e.ready=i.readyState}.bind(e)),t.on("seeking",function(){log("seeking"),e.seeking=!0,e.waiting=!0}.bind(e)),t.on("waiting",function(){log("waiting"),e.waiting=!0}.bind(e)),t.on("stalled",function(){log("Was stalled",i.networkState)}.bind(e)),t.on("emptied",function(){log("Was emptied",i.networkState)}.bind(e)),t.on("volumechange",function(){e.muted=i.muted}.bind(e)),t.on("canplaythrough",function(){log("ready to play"),e.paused=i.paused}.bind(e)),t.on("error",function(){if(log("Player error occured",i.error,"src",e.source),i.error&&e.source)switch(e.error(i.error),log("player.error",i.error),i.error.code){case 1:log("MEDIA_ERR_ABORTED error occured");break;case 2:log("MEDIA_ERR_NETWORK error occured");break;case 3:log("MEDIA_ERR_DECODE error occured");break;case 4:log("MEDIA_ERR_SRC_NOT_SUPPORTED error occured");break;default:log("UNDEFINED error occured")}}.bind(e)),t.on("timeupdate",function(){e.waiting=!1,e.seeking||(e.progress=i.currentTime)}.bind(e)),t.on("durationchange",function(){var t=i.duration;log("Duration",t),e.duration=isFinite(t)?t:0}.bind(e)),t.on("progress",function(){var t=i.buffered.length-1;e.waiting=!1,0<=t&&(e.buffered=i.buffered.end(t)-i.buffered.start(t))}.bind(e)),this.element=t,(this.ui=e).element.remove(),e.element=t,e.parent.element.append(e.element)}).prototype.setSource=function(t){this.ui.ready=!1,this.element.dom.src=t},Oe.prototype.play=function(){this.element.dom.play()},Oe.prototype.pause=function(){this.element.dom.pause()},Oe.prototype.stop=function(){this.pause()},Oe.prototype.seek=function(t){this.element.dom.currentTime+=t},Oe.prototype.seekTo=function(t){this.element.dom.currentTime=t},Oe.prototype.setVolume=function(t){this.element.dom.volume=t},Oe.prototype.setMute=function(t){this.element.dom.muted=t},Oe.prototype.setLoop=function(t){this.element.dom.loop=t},Oe.prototype.setRect=function(t,e,i,r){},Oe.prototype.setVisibility=function(t){log("VISIBILITY LOGIC MISSING HERE, visible:",t)},Oe.prototype.setBackgroundColor=function(t){var e=x.core.Color;this.element.dom.style.backgroundColor=new e(t).rgba()},Ae.createPlayer=function(t){return new Oe(t)},Ae.probeUrl=function(t){return 50},Ae.Player=Oe,Ae),x.web.device=(Se=function(t){var e=t._context,i=e.system.os+"_"+e.system.browser;i=i.replace(/\s/g,""),t.deviceId=i+"_"+Math.random().toString(36).substr(2,9)},(Pe={}).createDevice=function(t){return new Se(t)},Pe.Device=Se,Pe),x.controls.pure.format={currency:function(t,e,i){var r="\\d(?=(\\d{"+(i||3)+"})+"+(0<e?"\\.":"$")+")";return t.toFixed(Math.max(0,~~e)).replace(new RegExp(r,"g"),"$&,")},format:function(){var t=[].slice.call(arguments),e=t.shift();return t.reduce(function(t,e){return t.replace("%s",e)},e)}},t}();try{var l10n={},context=qml._context=new qml.core.Context(null,!1,{id:"qml-context-app",l10n:l10n,nativeContext:null});context.init(),context.start(new qml.src.UiApp(context)),context.run()}catch(t){log("qml initialization failed: ",t,t.stack)}
